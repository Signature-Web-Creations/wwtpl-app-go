{"version":3,"sources":["routes.js","Header.js","PaginationButton.js","SearchForm.js","RecordRow.js","RecordTable.js","api.js","RecordDetail.js","auth.js","LoginForm.js","hooks.js","admin/RecordRow.js","admin/RecordTable.js","Dashboard.js","MessageBox.js","admin/RecordForm.js","admin/UserForm.js","admin/UserListings.js","App.js","reportWebVitals.js","index.js"],"names":["routes","adminHome","home","login","logout","showUsers","addUser","newRecord","editRecord","url","params","id","viewRecord","UrlFor","name","route","undefined","Error","Header","props","className","children","PrevButton","currentPage","href","uk-pagination-previous","NextButton","pages","uk-pagination-next","PaginationButtons","style","height","padding","borderWidth","SearchForm","useState","query","setQuery","searchYear","setSearchYear","searchCollection","setSearchCollection","searchSourceArchive","setSearchSourceArchive","searchRecordType","setSearchRecordType","searchStatus","setSearchStatus","showAdvancedSearch","setShowAdvancedSearch","advancedSearchClassName","advancedSearchOptionsClass","isLoggedIn","onSubmit","e","preventDefault","performSearch","uk-grid","value","type","placeholder","onChange","target","years","map","year","uk-icon","uk-tooltip","onClick","recordTypes","sourceArchives","collections","status","RecordRow","date","title","to","NoResultsPage","PublicListings","records","recordType","RecordTable","searched","getPublicListingData","uri","queryParameters","baseUri","offset","push","encodeURIComponent","searchRecordStatus","length","join","fetch","then","res","json","a","method","mode","cache","credentials","response","username","password","data","headers","body","JSON","stringify","userData","userId","saveRecord","record","getValueOrDefault","defaultValue","Loading","TitleRow","ImageRow","alt","src","FileAttachmentRow","attachmentType","fileName","ContentRow","text","content","formatDate","matches","match","month","day","DateRow","OriginRow","origin","AuthorRow","author","RecordTypeRow","SourceArchiveRow","sourceArchive","CollectionRow","split","getCollectionArray","collection","Detail","RecordDetail","useParams","setRecord","useEffect","getPublicRecordByID","authContext","createContext","useAuth","useContext","useProvideAuth","user","setUser","signin","onError","result","success","signout","ProvideAuth","auth","Provider","PrivateRoute","rest","render","LoginForm","setUsername","setPassword","error","setError","handleCloseErrorBox","ErrorBox","uk-alert","uk-close","event","useSearchParams","URLSearchParams","useLocation","search","editUrl","AdminListings","recordStatus","Dashboard","searchParameters","offsetParam","get","parseInt","isNaN","getOffset","setRecords","setYears","setPages","setStatus","setRecordTypes","setCollections","setSourceArchives","setRecordStatus","setSearched","searchParams","MessageBox","messageClass","handleCloseBox","message","blank","s","trim","ValidationError","RecordForm","setTitle","setContent","setDate","setOrigin","setAuthor","setRecordType","setSourceArchive","validationErrors","setValidationErrors","clearValidationError","fieldName","errors","Object","assign","clearTitleError","clearDateError","clearRecordTypeError","clearSourceArchiveError","clearCollectionsError","validateForm","valid","moment","validDateFormat","setMessage","getRecordByID","r","c","forEach","col","collectionToId","parseIntOrError","str","n","header","console","log","checked","includes","filter","i","concat","handleCollection","UserForm","firstName","setFirstName","lastName","setLastName","roleId","setRoleId","roles","setRoles","SuccessBox","getUserRoles","createUser","charAt","toLowerCase","toUpperCase","slice","UserRow","role","disableUser","UserListings","users","setUsers","getUsers","App","setCollectionToId","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dd51a069.chunk.js","sourcesContent":["const routes = {\n  adminHome: '/admin',\n  home: '/',\n  login: '/login',\n  logout: '/logout',\n  showUsers: '/users',\n  addUser: '/adduser',\n  newRecord: '/record/new',\n  editRecord: {\n    url: '/record/edit',\n    params: {\n      id: ':id',\n    },\n  },\n  viewRecord: {\n    url: '/record/view',\n    params: {\n      id: ':id',\n    },\n  },\n}\n\nexport function UrlFor(name, params) {\n  let route = ''\n\n  if (typeof routes[name] === 'string') {\n    route = routes[name]\n  } else {\n    if (params !== undefined) {\n      route = routes[name].url + '/' + params.id\n    } else {\n      route = routes[name].url + '/' + routes[name].params.id\n    }\n  }\n\n  if (route === undefined) {\n    throw new Error(`Route doesn't exist: ${name}`)\n  }\n\n  return route\n}\n","\nexport default function Header(props) {\n   return (\n    <div className=\"uk-margin-top\">\n     {props.children}\n    </div>\n   )\n}\n","\n\nfunction PrevButton(props) {\n  if (props.currentPage === 0) {\n    return null \n  } \n\n  const href = `/?offset=${props.currentPage - 1}` \n  return (\n    <a href={href}> \n      <span className=\"uk-margin-small-right\" uk-pagination-previous=\"true\"></span>\n      Previous\n    </a>\n  )\n}\n\nfunction NextButton(props) {\n  if (props.currentPage >= props.pages) {\n    return null \n  } \n\n  const href = `/?offset=${props.currentPage + 1}` \n  return (\n    <a href={href}>\n      Next\n      <span className=\"uk-margin-small-left\" uk-pagination-next=\"true\"></span>\n    </a>\n  )\n}\n\nexport default function PaginationButtons(props) {\n  if (props.pages === null) {\n    return null\n  } else {\n    return (\n    <ul className=\"uk-pagination uk-margin-large-top\"> \n      <li>\n        <PrevButton currentPage={props.currentPage} />\n      </li>\n      <li>\n        <hr\n          className=\"uk-divider-vertical\"\n          style={{height: \"30px\", padding: \"4px 0\", borderWidth: \"2px\"}}\n        />\n      </li>\n      <li> \n        <NextButton currentPage={props.currentPage} pages={props.pages} />\n      </li>\n    </ul> \n    )\n  }\n}\n","import './SearchForm.css'\nimport { useState } from 'react'\n\nexport default function SearchForm(props) {\n  const [query, setQuery] = useState('')\n  const [searchYear, setSearchYear] = useState('')\n  const [searchCollection, setSearchCollection] = useState('')\n  const [searchSourceArchive, setSearchSourceArchive] = useState('')\n  const [searchRecordType, setSearchRecordType] = useState('')\n  const [searchStatus, setSearchStatus] = useState('')\n\n  const [showAdvancedSearch, setShowAdvancedSearch] = useState(false)\n  const performSearch = () => {\n    const params = {\n      query,\n      searchYear,\n      searchCollection,\n      searchSourceArchive,\n      searchRecordType,\n      searchStatus,\n    }\n    props.onSubmit(params)\n  }\n  const clearSearchFields = () => {\n    setQuery('')\n    setSearchYear('')\n    setSearchCollection('')\n    setSearchSourceArchive('')\n    setSearchRecordType('')\n    setSearchStatus('')\n  }\n  const show = showAdvancedSearch ? 'show' : ''\n  const advancedSearchClassName = `advancedSearchOptions uk-grid-small ${show}`\n\n  // If logged in\n  const advancedSearchOptionsClass = !props.isLoggedIn\n    ? 'uk-width-1-3@s'\n    : 'uk-width-1-4@s'\n\n  return (\n    <form\n      className=\"uk-margin-top\"\n      onSubmit={(e) => {\n        e.preventDefault()\n        performSearch()\n      }}\n    >\n      <div className=\"searchBar uk-grid-small\" uk-grid=\"true\">\n        <div className=\"uk-width-expand@s\">\n          <input\n            className=\"uk-input\"\n            value={query}\n            type=\"text\"\n            placeholder=\"Search\"\n            onChange={(e) => {\n              setQuery(e.target.value)\n            }}\n          />\n        </div>\n        <div className=\"uk-width-1-3@s\">\n          <select\n            className=\"uk-select\"\n            value={searchYear}\n            onChange={(e) => {\n              setSearchYear(e.target.value)\n            }}\n          >\n            <option value=\"\">Year</option>\n            {props.years.map((year) => (\n              <option key={year} value={year}>\n                {' '}\n                {year}{' '}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div\n          className=\"advancedSearchButton uk-width-auto@s uk-grid-small\"\n          uk-grid=\"true\"\n        >\n          <div className=\"uk-width-auto\">\n            <button\n              className=\"uk-button uk-button-default\"\n              uk-icon=\"more\"\n              uk-tooltip=\"Advanced Search Options\"\n              onClick={() => {\n                setShowAdvancedSearch(!showAdvancedSearch)\n              }}\n            ></button>\n          </div>\n          <div className=\"uk-width-auto\">\n            <button\n              className=\"uk-button uk-button-default\"\n              type=\"submit\"\n              uk-icon=\"refresh\"\n              uk-tooltip=\"Clear Search\"\n              onClick={() => {\n                clearSearchFields()\n              }}\n            ></button>\n          </div>\n          <div className=\"uk-width-auto\">\n            <button\n              className=\"uk-button uk-button-primary searchButton\"\n              type=\"submit\"\n              uk-icon=\"search\"\n              uk-tooltip=\"Search\"\n            ></button>\n          </div>\n        </div>\n      </div>\n\n      <div className={advancedSearchClassName} uk-grid=\"true\">\n        <div className={advancedSearchOptionsClass}>\n          <select\n            className=\"uk-select\"\n            value={searchRecordType}\n            onChange={(e) => {\n              setSearchRecordType(e.target.value)\n            }}\n          >\n            <option value=\"\"> Type </option>\n            {props.recordTypes.map(({ id, name }) => (\n              <option key={id} value={id}>\n                {' '}\n                {name}{' '}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className={advancedSearchOptionsClass}>\n          <select\n            className=\"uk-select\"\n            value={searchSourceArchive}\n            onChange={(e) => {\n              setSearchSourceArchive(e.target.value)\n            }}\n          >\n            <option value=\"\"> Source Archive </option>\n            {props.sourceArchives.map(({ id, name }) => (\n              <option key={id} value={id}>\n                {' '}\n                {name}{' '}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className={advancedSearchOptionsClass}>\n          <select\n            className=\"uk-select\"\n            value={searchCollection}\n            onChange={(e) => {\n              setSearchCollection(e.target.value)\n            }}\n          >\n            <option value=\"\"> Collection </option>\n            {props.collections.map(({ id, name }) => (\n              <option key={id} value={id}>\n                {' '}\n                {name}{' '}\n              </option>\n            ))}\n          </select>\n        </div>\n        {props.isLoggedIn && (\n          <div className={advancedSearchOptionsClass}>\n            <select\n              className=\"uk-select\"\n              value={searchStatus}\n              onChange={(e) => {\n                setSearchStatus(e.target.value)\n              }}\n            >\n              <option value=\"\">Status</option>\n              {props.status.map(({ id, name }) => (\n                <option key={id} value={id}>\n                  {' '}\n                  {name}{' '}\n                </option>\n              ))}\n            </select>\n          </div>\n        )}\n      </div>\n    </form>\n  )\n}\n","import { Link } from 'react-router-dom'\nimport { UrlFor } from './routes'\n\nexport default function RecordRow(props) {\n  return (\n    <tr>\n      <td>{props.date}</td>\n      <td>{props.title}</td>\n      <td>{props.type}</td>\n      <td>\n        <Link\n          to={UrlFor('viewRecord', { id: props.id })}\n          className=\"uk-button uk-button-primary\"\n        >\n          {' '}\n          View{' '}\n        </Link>\n      </td>\n    </tr>\n  )\n}\n","import RecordRow from './RecordRow'\n\nfunction NoResultsPage() {\n  return <h1> Your search did not return any results. </h1>\n}\n\nfunction PublicListings(props) {\n  return (\n    <table className=\"uk-table uk-table-middle uk-table-divider uk-table-hover uk-margin-medium\">\n      <thead>\n        <tr>\n          <th className=\"uk-width-small\">Date</th>\n          <th>Title</th>\n          <th>Type</th>\n          <th className=\"uk-table-shrink\"></th>\n        </tr>\n      </thead>\n      <tbody>\n        {props.records.map(({ id, date, title, recordType }) => (\n          <RecordRow\n            id={id}\n            key={id}\n            date={date}\n            title={title}\n            type={recordType}\n          />\n        ))}\n      </tbody>\n    </table>\n  )\n}\n\nexport default function RecordTable(props) {\n  if (props.records === null) {\n    if (props.searched) {\n      return <NoResultsPage />\n    } else {\n      return null\n    }\n  } else {\n    return <PublicListings records={props.records} />\n  }\n}\n","export function getPublicListingData(params) {\n  const queryParameters = []\n  const baseUri = '/api/public/records'\n\n  if (params.offset && params.offset !== null) {\n    queryParameters.push(`offset=${encodeURIComponent(params.offset)}`)\n  }\n\n  if (params.query && params.query !== '') {\n    queryParameters.push(`query=${encodeURIComponent(params.query)}`)\n  }\n\n  if (params.searchYear && params.searchYear !== '') {\n    queryParameters.push(`year=${encodeURIComponent(params.searchYear)}`)\n  }\n\n  if (params.searchCollection && params.searchCollection !== '') {\n    queryParameters.push(\n      `collection=${encodeURIComponent(params.searchCollection)}`,\n    )\n  }\n\n  if (params.searchSourceArchive && params.searchSourceArchive !== '') {\n    queryParameters.push(\n      `sourceArchive=${encodeURIComponent(params.searchSourceArchive)}`,\n    )\n  }\n\n  if (params.searchRecordType && params.searchRecordType !== '') {\n    queryParameters.push(\n      `recordType=${encodeURIComponent(params.searchRecordType)}`,\n    )\n  }\n\n  if (params.searchRecordStatus && params.searchRecordStatus !== '') {\n    queryParameters.push(\n      `recordStatus=${encodeURIComponent(params.searchRecordStatus)}`,\n    )\n  }\n\n  let uri\n  if (queryParameters.length !== 0) {\n    uri = baseUri + `?${queryParameters.join('&')}`\n  } else {\n    uri = baseUri\n  }\n\n  return fetch(uri).then((res) => res.json())\n}\n\nexport function getPublicRecordByID(id) {\n  return fetch(`/api/public/records/${id}`).then((res) => res.json())\n}\n\n// Retrieves a record by its id regardless of status. \n// User must be logged in\nexport async function getRecordByID(id) {\n  const response = await fetch(`/api/records/${id}`, {\n    method: 'GET', \n    mode: 'same-origin', \n    cache: 'no-cache',\n    credentials: 'include'\n  })\n\n  return await response.json() \n}\n\nexport async function login(username, password) {\n  const data = { username, password }\n\n  const response = await fetch('/api/login', {\n    method: 'POST',\n    mode: 'same-origin',\n    cache: 'no-cache',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(data),\n  })\n\n  return response.json()\n}\n\nexport async function logout() {\n  return fetch('/api/logout', {\n    method: 'POST',\n    mode: 'same-origin',\n    cache: 'no-cache',\n    credentials: 'include',\n  })\n}\n\n// Returns user data for the logged in user. \n// If user is not logged in returns an error message\nexport function getUserData() {\n  return fetch(`/api/user`).then((res) => res.json())\n}\n\n// Creates a new user. User must be authenticated\n// and an admin to succeed\nexport async function createUser(userData) {\n  const response = await fetch('/api/user', {\n      method: 'POST',\n      mode: 'same-origin',\n      cache: 'no-cache',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      }, \n\n      body: JSON.stringify(userData)\n  })\n\n  return response.json()\n}\n\n// Returns a json list of users. If the user is not\n// authenticated returns a 401 unauthorized\nexport async function getUsers() {\n  const response = await fetch('/api/users', {\n      method: 'GET',\n      mode: 'same-origin',\n      cache: 'no-cache',\n      credentials: 'include'\n  })\n\n  return response.json()\n}\n\n// Returns a list of user roles. \nexport async function getUserRoles() {\n  const response = await fetch('/api/user_roles', {\n    method: 'GET', \n    mode: 'same-origin', \n    cache: 'no-cache', \n  })\n\n  return response.json()\n}\n\n// Disables a user \nexport async function disableUser(userId) {\n  const response = await fetch('/api/user/disable', {\n    method: 'POST', \n    mode: 'same-origin', \n    cache: 'no-cache', \n    credentials: 'include', \n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({userId}) \n  })\n  return response.json() \n}\n\nexport async function saveRecord(record) {\n  const response = await fetch('/api/records', {\n    method: 'POST', \n    mode: 'same-origin', \n    cache: 'no-cache',\n    credentials: 'include', \n    headers: {\n      'Content-Type': 'application/json'\n    }, \n    body: JSON.stringify(record) \n  })\n  return response.json()\n}\n","import { useParams } from 'react-router-dom'; \nimport { useState, useEffect } from 'react';\nimport { getPublicRecordByID } from './api';\n\nconst getValueOrDefault = (value, defaultValue) => {\n  if (value) {\n    return value\n  } else {\n    return defaultValue;\n  }\n}\n\nfunction Loading() {\n  return <h1> Loading </h1> \n}\n\nfunction TitleRow(props) {\n  return (\n    <tr>\n      <td className=\"uk-width-medium\"><strong>Title</strong></td>\n      <td>{props.title}</td>\n    </tr>\n  )\n}\n\nfunction ImageRow(props) {\n  return (\n    <tr>\n      <td><strong>Image</strong></td>\n      <td><img alt={props.alt} src={`/media/${props.src}`} /></td>\n    </tr>\n  )\n}\n\nfunction FileAttachmentRow(props) {\n  if (props.attachmentType === null) {\n    return null;\n  }\n  else if (props.attachmentType === 'image') {\n    return <ImageRow alt={props.title} src={props.fileName} />\n  } else {\n    return null;\n  }\n}\n\nfunction ContentRow(props) {\n  const text = props.content === \"\" ? \"No content\" : props.content; \n  return (\n    <tr>\n      <td>\n        <strong>\n          Text\n        </strong>\n      </td>\n      <td> {text} </td>\n    </tr>\n  );\n}\n\nconst formatDate = (date) => {\n  // Converts date with format yyyy-mm-dd to mm/dd/yyyy\n  // If it cannot convert, then just returns the given date\n\n  const re = /(\\d{4})-(\\d{2})-(\\d{2})/;\n  const matches = date.match(re); \n  if (matches !== null) {\n    const year = matches[1];\n    const month = matches[2];\n    const day = matches[3];\n  \n    return `${month}/${day}/${year}`;\n  } else {\n    return date;\n  }\n}\n\nfunction DateRow(props) {\n  return (\n    <tr>\n      <td>\n        <strong>\n          Date\n        </strong>\n      </td>\n      <td>{props.date === \"\" ? \"Date unknown\" : formatDate(props.date)} </td>\n    </tr>\n  );\n}\n\nfunction OriginRow(props) {\n  return (\n    <tr>\n     <td>\n      <strong>\n        Origin\n      </strong>\n     </td>\n     <td>{getValueOrDefault(props.origin, \"Origin Unknown\")}</td>\n    </tr>\n  )\n}\n\nfunction AuthorRow(props) {\n  return (\n    <tr>\n      <td>\n        <strong>\n          Author\n        </strong>\n      </td>\n      <td>{getValueOrDefault(props.author, \"Unknown\")}</td>\n    </tr>\n  );\n}\n\nfunction RecordTypeRow(props) {\n  return (\n    <tr>\n      <td>\n        <strong>\n          Type\n        </strong>\n      </td>\n      <td>{getValueOrDefault(props.recordType, \"Unknown\")}</td>\n    </tr>\n  );\n}\n\nfunction SourceArchiveRow(props) {\n  return (\n    <tr>\n      <td>\n        <strong>\n          Source Archive\n        </strong>\n      </td>\n      <td>{getValueOrDefault(props.sourceArchive, \"Unknown\")}</td>\n    </tr>\n  );\n}\n\nfunction getCollectionArray(collections){\n  if (collections) {\n    return collections.split(';');\n  } else {\n    return [];\n  }\n}\n\nfunction CollectionRow(props) {\n  let collections = getCollectionArray(props.collections)\n\n  const collectionLabel = (collection) => {\n    return (\n      <span key={collection} className=\"uk-label\"> {collection} </span>\n    )\n  }\n  \n  if (collections.length === 0) {\n    collections.push('Collection Unknown');\n  }\n\n  return (\n    <tr>\n      <td>\n        <strong>\n          Collection\n        </strong>\n      </td>\n      <td> \n        {collections.map(collectionLabel)}\n      </td>\n    </tr>\n  );\n}\n\nfunction Detail(props) {\n  const record = props.record;\n  return (\n    <table className=\"uk-table uk-table-small uk-table-divider uk-margin-medium\">\n      <tbody>\n        <TitleRow title={record.title} />\n        <FileAttachmentRow title={record.title} attachmentType={record.attachmentType} fileName={record.fileName} />\n        <ContentRow content={record.content} />\n        <DateRow date={record.date} />\n        <OriginRow origin={record.origin} />\n        <AuthorRow author={record.author} />\n        <RecordTypeRow recordType={record.recordType} />\n        <SourceArchiveRow sourceArchive={record.sourceArchive} />\n        <CollectionRow collections={record.collections} />\n      </tbody>\n    </table>\n  );\n}\n  \n\nfunction RecordDetail(props) {\n  let {id} = useParams();\n\n  const [record, setRecord] = useState(null)\n\n  useEffect(() => {\n    getPublicRecordByID(id).then(setRecord)\n  }, [id])\n\n  if (!record) {\n    return <Loading />\n  } else {\n    return <Detail record={record} />\n  }\n}\n\nexport default RecordDetail; \n","import {useState, useEffect, useContext, createContext} from 'react';\nimport {getUserData, login, logout} from './api'; \nimport {Route, Redirect} from 'react-router-dom';\n\n\n// Code for creating authContext and hooks \n// Adapted from https://usehooks.com/useAuth/\nconst authContext = createContext();\n\n// Hook for components to get the auth object\n// and re-render when it changes\nexport function useAuth() {\n  return useContext(authContext) \n}\n\n// Provider hook that creates auth object and handles state\nexport function useProvideAuth() {\n  const [user, setUser] = useState(false) \n\n  useEffect(() => {\n    getUserData().then(json => {\n      if (json.username) {\n        setUser(json)\n      }\n    })\n  }, [])\n\n  const signin = (username, password, onError) => {\n    login(username, password).then(result => {\n      if (result.success) {\n        setUser(result.user)\n      } else {\n        onError('invalid username/password')\n      }\n    })\n  }\n\n  const signout = () => {\n    logout().then(() => {\n      setUser(false)\n    })\n  }\n\n  return {\n    user, \n    signin,\n    signout,\n  }\n}\n\n// Provider component that wraps your app and makes auth object\n// available to any child component that calls useAuth()\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\n\nexport function PrivateRoute({children, ...rest}) {\n  let auth = useAuth()\n\n  return (\n    <Route\n      {...rest} \n      render={() => \n        auth.user ? (\n          children\n        ) : (\n          <Redirect to=\"/\" />\n        )\n      }\n    />\n  )\n}\n","import { useState } from 'react'\nimport { useAuth } from './auth.js'\nimport { Redirect, Link } from 'react-router-dom'\n\nexport default function LoginForm(props) {\n  const auth = useAuth()\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState(null)\n\n  const changeUsername = (event) => {\n    setError(null)\n    setUsername(event.target.value)\n  }\n\n  const changePassword = (event) => {\n    setError(null)\n    setPassword(event.target.value)\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    auth.signin(username, password, () => setError)\n  }\n\n  const handleCloseErrorBox = () => {\n  }\n\n  function ErrorBox() {\n    return (\n      <div uk-alert={true} className=\"uk-alert-danger\">\n        <Link\n          className=\"uk-alert-close\"\n          uk-close={true}\n          onClick={handleCloseErrorBox}\n        ></Link>\n        <p>{error}</p>\n      </div>\n    )\n  }\n\n  if (auth.user) {\n    return <Redirect to=\"/dashboard\" />\n  }\n\n  return (\n    <form\n      className=\"uk-form-stacked uk-form-width-large uk-margin-top\"\n      onSubmit={handleSubmit}\n    >\n      {error && <ErrorBox />}\n\n      <div>\n        <label className=\"uk-form-label\"> Username </label>\n        <input\n          className=\"uk-form-width-large uk-input\"\n          type=\"text\"\n          name=\"username\"\n          onChange={changeUsername}\n          value={username}\n        />\n      </div>\n      <div>\n        <label className=\"uk-form-label\"> Password </label>\n        <input\n          className=\"uk-form-width-large uk-input\"\n          type=\"password\"\n          name=\"password\"\n          onChange={changePassword}\n          value={password}\n        />\n      </div>\n      <input\n        className=\"uk-button uk-button-primary uk-margin-top\"\n        type=\"submit\"\n        value=\"login\"\n      />\n    </form>\n  )\n}\n","import {useLocation} from 'react-router-dom';\n\nexport function useSearchParams() {\n  // Returns search Parameters from URL \n  \n  return new URLSearchParams(useLocation().search);\n}\n","import { Link } from 'react-router-dom'\nimport { UrlFor } from '../routes.js'\n\nfunction RecordRow(props) {\n  const handleDeleteRecord = () => {\n    // intiate delete record\n  }\n\n  const handleStatusColor = (status) => {\n    if (status === 'unpublished') {\n      return 'uk-label uk-label-warning'\n    } else if (status === 'deleted') {\n      return 'uk-label uk-label-error'\n    } else {\n      return 'uk-label uk-label-success'\n    }\n  }\n\n  const editUrl = UrlFor('editRecord', {id: props.id}) \n\n  return (\n    <tr>\n      <td>\n        <Link\n          to={editUrl}\n          className=\"uk-icon-link uk-margin-small-right\"\n          uk-icon=\"file-edit\"\n        ></Link>\n      </td>\n      <td>\n        <button\n          onClick={handleDeleteRecord}\n          className=\"uk-icon-link uk-margin-small-right\"\n          uk-icon=\"trash\"\n        ></button>\n      </td>\n      <td>{props.date}</td>\n      <td>{props.title}</td>\n      <td>\n        <span className={handleStatusColor(props.status)}>{props.status}</span>\n      </td>\n    </tr>\n  )\n}\n\nexport default RecordRow\n","import RecordRow from './RecordRow'\n\nfunction NoResultsPage() {\n  return <h1> Your search did not return any results. </h1>\n}\n\nfunction AdminListings(props) {\n  return (\n    <table className=\"uk-table uk-table-middle uk-table-divider uk-table-hover uk-margin-medium\">\n      <thead>\n        <tr>\n          <th className=\"uk-table-small\"></th>\n          <th className=\"uk-table-small\"></th>\n          <th className=\"uk-width-small\">Date</th>\n          <th>Title</th>\n          <th>Status</th>\n        </tr>\n      </thead>\n      <tbody>\n        {props.records.map(({ id, date, title, recordStatus }) => (\n          <RecordRow id={id} key={id} date={date} title={title} status={recordStatus} />\n        ))}\n      </tbody>\n    </table>\n  )\n}\n\nexport default function RecordTable(props) {\n  if (props.records === null) {\n    if (props.searched) {\n      return <NoResultsPage />\n    } else {\n      return null\n    }\n  } else {\n    return <AdminListings records={props.records} />\n  }\n}\n","import { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { UrlFor } from './routes'\nimport { getPublicListingData } from './api'\nimport { useSearchParams } from './hooks'\nimport { useAuth } from './auth.js'\nimport AdminListings from './admin/RecordTable'\nimport SearchForm from './SearchForm'\nimport PaginationButtons from './PaginationButton'\n\nfunction getOffset(searchParameters) {\n  let offsetParam = searchParameters.get('offset')\n  if (offsetParam === null) {\n    return 0\n  }\n  let offset = parseInt(offsetParam)\n  if (isNaN(offset)) {\n    return 0\n  }\n\n  return offset\n}\n\nexport default function Dashboard() {\n  const auth = useAuth()\n  const searchParameters = useSearchParams()\n  const offset = getOffset(searchParameters)\n\n  const [records, setRecords] = useState(null)\n  const [years, setYears] = useState([])\n  const [pages, setPages] = useState(null)\n  const [status, setStatus] = useState(null)\n  const [recordTypes, setRecordTypes] = useState([])\n  const [collections, setCollections] = useState([])\n  const [sourceArchives, setSourceArchives] = useState([])\n  const [recordStatus, setRecordStatus] = useState([])\n\n  const [searched, setSearched] = useState(false)\n\n  const handleSearch = (searchParams) => {\n    const {\n      query,\n      searchYear,\n      searchCollection,\n      searchSourceArchive,\n      searchRecordType,\n      searchStatus,\n    } = searchParams\n    const params = {\n      offset,\n      query,\n      searchYear,\n      searchCollection,\n      searchSourceArchive,\n      searchRecordType,\n      searchStatus,\n    }\n    getPublicListingData(params).then(({ records, pages, years, status }) => {\n      setRecords(records)\n      setPages(pages)\n      setYears(years)\n      setStatus(status)\n      setSearched(true)\n    })\n  }\n\n  useEffect(() => {\n    getPublicListingData({ offset }).then(\n      ({\n        records,\n        pages,\n        years,\n        status,\n        collections,\n        sourceArchives,\n        recordTypes,\n        recordStatus,\n      }) => {\n        setRecords(records)\n        setPages(pages)\n        setYears(years)\n        setStatus(status)\n        setCollections(collections.collections)\n        setSourceArchives(sourceArchives)\n        setRecordTypes(recordTypes)\n        setRecordStatus(recordStatus)\n      },\n    )\n  }, [offset])\n\n  return (\n    <>\n      <Link\n        to={UrlFor('addUser')}\n        className=\"uk-button uk-button-primary uk-margin-right\"\n      >\n        {' '}\n        Add New User{' '}\n      </Link>\n      <Link to={UrlFor('showUsers')} className=\"uk-button uk-button-default\">\n        {' '}\n        Manage Users{' '}\n      </Link>\n\n      <Link to={UrlFor('newRecord')} className=\"uk-button uk-button-default\">\n        {' '}\n        New Record{' '}\n      </Link>\n      <SearchForm\n        years={!years ? [] : years}\n        recordTypes={recordTypes}\n        collections={collections}\n        sourceArchives={sourceArchives}\n        status={recordStatus}\n        isLoggedIn={auth.user}\n        onSubmit={handleSearch}\n      />\n      <PaginationButtons currentPage={!offset ? 0 : offset} pages={pages} />\n\n      {/*\n       * List of pending records by default\n       * Needs to include a records status in the records\n       */}\n      <AdminListings searched={searched} records={records} />\n    </>\n  )\n}\n","import { Link } from 'react-router-dom'\n\nfunction MessageBox(props) {\n  const handleClose = () => {\n    props.handleCloseBox(null)\n  }\n\n  let messageClass = ''\n  if (props.type === 'error') {\n    messageClass = 'uk-alert-danger'\n  } else {\n    messageClass = 'uk-alert-success'\n  }\n\n  return (\n    <div uk-alert=\"true\" className={messageClass}>\n      <Link\n        className=\"uk-alert-close\"\n        uk-close=\"true\"\n        onClick={handleClose}\n      ></Link>\n      <p>{props.message}</p>\n    </div>\n  )\n}\n\nexport default MessageBox\n","import { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { getRecordByID, saveRecord } from '../api'\nimport moment from 'moment'\n\nimport MessageBox from '../MessageBox'\n\n\n// Returns true if string is blank\nfunction blank(s) {\n  return s.trim().length === 0\n}\n\nfunction ValidationError(props) {\n  if (!props.error) {\n    return null\n  }\n  return (<p> {props.error} </p>)\n}\n\nfunction RecordForm(props) {\n  let { id } = useParams()\n\n  const [title, setTitle] = useState('')\n  const [content, setContent] = useState('')\n  const [date, setDate] = useState('')\n  const [origin, setOrigin] = useState('')\n  const [author, setAuthor] = useState('')\n\n  const [recordType, setRecordType] = useState('');\n  const [sourceArchive, setSourceArchive] = useState(''); \n  const [collections, setCollections] = useState([])\n\n  // Form Validation\n  const [validationErrors, setValidationErrors] = useState({\n    title: false, \n    date: false, \n    recordType: false,\n    sourceArchive: false,\n    collections: false,\n  })\n\n\n  // Creates a helper function to clear validation errors\n  // I am using a closure here because if I mispelled a field\n  // name I want it to throw an error right away. Using \n  // something lke\n  const clearValidationError = (fieldName) => {\n    if (validationErrors[fieldName] === undefined) {\n      throw new Error(`Cannot create helper function for unknown field: ${fieldName}`)\n    }\n    return () => {\n      if (validationErrors[fieldName]) {\n        let errors = {}\n        errors[fieldName] = false\n        setValidationErrors(Object.assign(validationErrors, errors))\n      }\n    }\n  }\n\n  const clearTitleError = clearValidationError(\"title\")\n  const clearDateError = clearValidationError(\"date\")\n  const clearRecordTypeError = clearValidationError(\"recordType\")\n  const clearSourceArchiveError = clearValidationError(\"sourceArchive\")\n  const clearCollectionsError = clearValidationError(\"collections\")\n\n  // Returns [moment, true] if date format is valid\n  // i.e yyyy or mm/dd/yyyy \n  const validDateFormat = (date) => {\n    let m = moment(date, \"MM/DD/YYYY\", true)\n    return true\n  }\n\n  // Returns true if date represents a valid \n  // date\n  const validDate = (date) => {\n    return true\n  }\n\n  // Validates all of the fields on the form. \n  // Returns true if there are no errors and it is ok to submit \n  const validateForm = () => {\n    let valid = true\n    let errors = {}\n\n    if (blank(title)) {\n      errors.title = 'Title is required'\n      valid = false\n    }\n\n    if (blank(date)) {\n      errors.date = 'Date is required.'\n      valid = false\n    } else if (!validDateFormat(date)) {\n      errors.date = 'Date either needs to be a year (yyyy) or month day and year (mm/dd/yyyy)'\n      valid = false\n    } else if (!validDate(date)) {\n      errors.date = 'Date is invalid'\n      valid = false\n    }\n\n    if (blank(recordType)) {\n      errors.recordType = 'You need to select a record type'\n      valid = false\n    }\n\n    if (blank(sourceArchive)) {\n      errors.sourceArchive = 'You need to select a source archive'\n      valid = false\n    }\n\n    if (collections.length === 0) {\n      errors.collections = 'You need to select at least one collection'\n    }\n\n    setValidationErrors(Object.assign(validationErrors, errors))\n    return valid\n  }\n\n  const newRecord = id === undefined\n\n  const [message, setMessage] = useState(null)\n\n\n  useEffect(() => {\n    if (!newRecord) {\n      // Populate form fields with record\n      getRecordByID(id).then(data => {\n        if (data.record) {\n          const r = data.record\n          setTitle(r.title)\n          setContent(r.content)\n          setDate(r.date)\n          setOrigin(r.origin)\n          setAuthor(r.author)\n          setRecordType(r.recordType)\n          setSourceArchive(r.sourceArchive)\n\n          let c = []\n          r.collections.split(';').forEach(col => {\n            if (props.collectionToId[col]) {\n              c.push(props.collectionToId[col])\n            }\n          })\n          setCollections(c)\n        }\n      })\n    }\n  }, [newRecord, id, props.collectionToId])\n\n  const handleCollection = (id) => {\n    if (collections.includes(id)) {\n      setCollections(collections.filter(i => i !== id))\n    } else {\n      setCollections(collections.concat(id))\n    }\n  }\n\n  const parseIntOrError = (str) => {\n    const n = parseInt(str)\n    if (isNaN(n)) {\n      throw new Error(`Couldn't parse int on string: ${str}`)\n    }\n    return n\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    if (validateForm()) {\n      const record = {\n        title,\n        content, \n        date, \n        origin,\n        author,\n        recordType: parseIntOrError(recordType), \n        recordType: parseIntOrError(sourceArchive),\n        collections: collections.map(parseIntOrError)\n      }\n\n      let request;\n\n      if (newRecord) {\n        request = saveRecord(record)\n      } else {\n        request = saveRecord(Object.assign(record, {id}))\n      }\n\n      request.then(data => {\n        if (data.error) {\n          console.log('Error: ', data.error) \n        } else {\n          console.log(data.success)\n        }\n      })\n    }\n    \n  }\n\n  const handleCloseBox = (message) => {\n    setMessage(message)\n  }\n\n  const header = newRecord ? \"New Record\" : \"Edit Record\"\n\n  return (\n    <form className=\"uk-form-stacked uk-margin-top\" onSubmit={handleSubmit}>\n      {message && (\n        <MessageBox\n          onChange={handleCloseBox}\n          message={message}\n          type=\"error\"\n        />\n      )}\n      <h1> {header} </h1> \n\n      <div> \n        <ValidationError error={validationErrors.title} />\n        <label className=\"uk-form-label\"> Title </label>\n        <input\n          className=\"uk-form-width-large uk-input\"\n          type=\"text\"\n          value={title}\n          onChange={(e) => { \n            clearTitleError()\n            setTitle(e.target.value)\n          }} />\n      </div> \n\n      <div> \n        <label className=\"uk-form-label\"> Content </label>\n        <textarea \n          className=\"uk-form-width-large uk-textarea\"\n          value={content}\n          onChange={(e) => { setContent(e.target.value) } } />\n      </div> \n\n      <div> \n        <ValidationError error={validationErrors.date} />\n        <label className=\"uk-form-label\"> Date </label>\n        <input \n          className=\"uk-form-width-large uk-input\"\n          type=\"text\"\n          value={date}\n          onChange={(e) => { \n            clearDateError()\n            setDate(e.target.value)\n          }} />\n      </div> \n\n\n      <div> \n        <label className=\"uk-form-label\"> Origin </label>\n        <input \n          className=\"uk-form-width-large uk-input\"\n          type=\"text\" \n          value={origin}\n          onChange={(e) => { setOrigin(e.target.value) } } />\n      </div> \n\n      <div> \n        <label className=\"uk-form-label\"> Author </label>\n        <input\n          className=\"uk-form-width-large uk-input\"\n          type=\"text\"\n          value={author} \n          onChange={(e) => { setAuthor(e.target.value) } } />\n      </div> \n\n      <div> \n        <ValidationError error={validationErrors.recordType} />\n        <label className=\"uk-form-label\"> Record Type </label>\n        <select \n          className=\"uk-select uk-form-width-large\" \n          value={recordType}\n          onChange={(e) => {\n            clearRecordTypeError()\n            setRecordType(e.target.value)\n          }}>\n          <option value=''> No Record Type </option> \n          { props.recordTypes.map(({id, name}) => <option key={id} value={id}> {name} </option>) }\n        </select>\n      </div> \n\n      <div> \n        <ValidationError error={validationErrors.sourceArchive} />\n        <label className=\"uk-form-label\"> Source Archive </label>\n        <select\n          className=\"uk-select uk-form-width-large\"\n          value={sourceArchive}\n          onChange={(e) => {\n            clearSourceArchiveError()\n            setSourceArchive(e.target.value)}\n          }>\n          <option value=''> No Source Archive </option> \n          { props.sourceArchives.map(({id, name}) => <option key={id} value={id}> {name} </option>) }\n        </select>\n      </div> \n\n      <div> \n        <ValidationError error={validationErrors.collections} />\n        <label className=\"uk-form-label\"> Collections </label>\n        {props.collections.map(({id, name}) => {\n          return (\n            <label className=\"uk-form-label\" key={id} >\n              <input \n                className=\"uk-checkbox\"\n                type=\"checkbox\"\n                key={id}\n                name=\"collections\"\n                value={id}\n                checked={collections.includes(id)}\n                onChange={() => {\n                  clearCollectionsError()\n                  handleCollection(id)}\n                } />\n            &nbsp;&nbsp;  { name } \n            </label>\n          )\n        })}\n      </div>\n\n      \n\n      <input\n        className=\"uk-button uk-button-primary uk-margin-top\"\n        type=\"submit\"\n        value=\"Add Record\"\n      />\n    </form>\n    ) } \n\nexport default RecordForm;\n","import { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { createUser, getUserRoles } from '../api.js'\n\n// capitalize a string\nfunction capitalize(s) {\n  if (s.length > 0) {\n    return s[0].toUpperCase() + s.slice(1)\n  }\n  return s\n}\n\nfunction UserForm() {\n  const [firstName, setFirstName] = useState('')\n  const [lastName, setLastName] = useState('')\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  \n  // Every role defaults to being an editor. 1 means editor\n  const [roleId, setRoleId] = useState(1) \n\n  const [roles, setRoles] = useState([]) \n\n  const [error, setError] = useState(null)\n  const [message, setMessage] = useState(null)\n\n  const clearForm = () => {\n    setFirstName('')\n    setLastName('')\n    setUsername('') \n    setPassword('')\n    setRoleId(1)\n  }\n\n  useEffect(() => {\n    getUserRoles().then(data => {\n      if (data.roles) {\n        setRoles(data.roles)\n      }\n    })\n  }, [])\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const userData = {firstName, lastName, username, password, roleId}\n    createUser(userData).then((res) => {\n      if (res.success) {\n        setMessage(res.success)\n        clearForm()\n      } else {\n        setError(res.error)\n      }\n    })\n  }\n\n  const changeFirstName = (event) => {\n    setFirstName(event.target.value)\n  }\n\n  const changeLastName = (event) => {\n    setLastName(event.target.value)\n    setUsername(\n      firstName.charAt(0).toLowerCase() + event.target.value.toLowerCase(),\n    )\n  }\n\n  const changeUsername = (event) => {\n    setUsername(event.target.value)\n  }\n\n  const changePassword = (event) => {\n    setPassword(event.target.value)\n  }\n  \n  const changeRole = (event) => {\n    const roleId = parseInt(event.target.value)\n    if (isNaN(roleId)) {\n      setRoleId(1)\n    } else {\n      setRoleId(roleId)\n    }\n  }\n\n  function SuccessBox(props) {\n    return (\n      <div uk-alert={true} className=\"uk-alert-success\">\n        <Link\n          className=\"uk-alert-close\"\n          uk-close={true}\n          onClick={() => {\n            setMessage(null)\n          }}\n        ></Link>\n        <p>{props.message}</p>\n      </div>\n    )\n  }\n\n  function ErrorBox(props) {\n    return (\n      <div uk-alert={true} className=\"uk-alert-danger\">\n        <Link\n          className=\"uk-alert-close\"\n          uk-close={true}\n          onClick={() => {\n            setError(null)\n          }}\n        ></Link>\n        <p>{props.message}</p>\n      </div>\n    )\n  }\n\n  return (\n    <form\n      className=\"uk-form-stacked uk-form-width-large uk-margin-top\"\n      onSubmit={handleSubmit}\n    >\n      {message && <SuccessBox message={message}/>}\n      {error && <ErrorBox message={error}/>}\n\n      <div>\n        <label className=\"uk-form-label uk-margin-top\">First Name</label>\n        <input\n          className=\"uk-form-width-large uk-input\"\n          type=\"text\"\n          name=\"firstName\"\n          onChange={changeFirstName}\n          value={firstName}\n        />\n      </div>\n      <div>\n        <label className=\"uk-form-label uk-margin-top\">Last Name</label>\n        <input\n          className=\"uk-form-width-large uk-input\"\n          type=\"text\"\n          name=\"lastName\"\n          onChange={changeLastName}\n          value={lastName}\n        />\n      </div>\n      <div>\n        <label className=\"uk-form-label uk-margin-top\">Username</label>\n        <input\n          className=\"uk-form-width-large uk-input\"\n          type=\"text\"\n          name=\"username\"\n          onChange={changeUsername}\n          value={username}\n        />\n      </div>\n      <div>\n        <label className=\"uk-form-label uk-margin-top\">Password</label>\n        <input\n          className=\"uk-form-width-large uk-input\"\n          type=\"password\"\n          name=\"password\"\n          onChange={changePassword}\n          value={password}\n        />\n      </div>\n      <div>\n        <label className=\"uk-form-label uk-margin-top\">Role</label>\n        <select value={roleId} onChange={changeRole}> \n          { roles.length !== 0 && roles.map(({id, name}) => <option value={id} key={id}> {capitalize(name)} </option>) }\n        </select>\n      </div>\n      <input\n        className=\"uk-button uk-button-primary uk-margin-top\"\n        type=\"submit\"\n        value=\"Create User\"\n      />\n    </form>\n  )\n}\n\nexport default UserForm\n","import {Link} from 'react-router-dom'\nimport {getUsers, disableUser} from '../api'\nimport {useState, useEffect} from 'react'\n\nfunction UserRow(props) {\n\n  const {id, firstName, lastName, username, role} = props\n\n  const deleteUser = function (e){\n    e.preventDefault();\n    const userId = parseInt(id) \n    if (isNaN(userId)) {\n      console.log('Id was not a number') \n    }\n    disableUser(id).then(response => {\n      if (response.error) {\n        console.log(response.error)\n      } else {\n        console.log(response.success)\n      }\n    })\n  }\n\n  return (\n    <tr>\n      <td> \n        <Link\n          to={`/editUser/${id}`}\n          className=\"uk-icon-link uk-margin-small-right\"\n          uk-icon=\"file-edit\"\n        ></Link>\n      </td>\n      <td>\n        <Link\n          onClick={deleteUser}\n          className=\"uk-icon-link uk-margin-small-right\"\n          uk-icon=\"trash\"\n        ></Link>\n      </td> \n      <td>{lastName}</td>\n      <td>{firstName}</td>\n      <td>{username}</td>\n      <td>{role}</td>\n    </tr>\n  )\n}\n\nexport default function UserListings(props) {\n  const [users, setUsers] = useState([]) \n\n  useEffect(() => {\n    getUsers().then((data) => {\n      if (data.users) {\n        setUsers(data.users)\n      }\n    })\n  }, [])\n\n  return (\n    <table className=\"uk-table uk-table-middle uk-table-divider uk-table-hover uk-margin-medium\">\n      <thead>\n        <tr>\n          <th className=\"uk-table-small\"></th>\n          <th className=\"uk-table-small\"></th>\n          <th className=\"uk-width-small\">Last Name</th>\n          <th>First Name</th>\n          <th>Username</th>\n          <th>Role</th>\n        </tr>\n      </thead>\n      <tbody>\n        {users.map(({id, firstName, lastName, username, role}) => (\n          <UserRow\n            id={id}\n            firstName={firstName}\n            lastName={lastName}\n            username={username}\n            role={role}\n          />\n        ))}\n      </tbody>\n    </table>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { Switch, Link, Route, Redirect } from 'react-router-dom'\nimport { UrlFor } from './routes'\n\nimport Header from './Header'\nimport PaginationButtons from './PaginationButton'\nimport SearchForm from './SearchForm'\nimport RecordTable from './RecordTable'\nimport RecordDetail from './RecordDetail'\nimport LoginForm from './LoginForm'\n\nimport Dashboard from './Dashboard'\n\nimport { getPublicListingData } from './api'\nimport { useSearchParams } from './hooks'\nimport { useAuth, PrivateRoute } from './auth.js'\n\nimport RecordForm from './admin/RecordForm'\nimport UserForm from './admin/UserForm'\nimport UserListings from './admin/UserListings'\n\nfunction getOffset(searchParameters) {\n  let offsetParam = searchParameters.get('offset')\n  if (offsetParam === null) {\n    return 0\n  }\n  let offset = parseInt(offsetParam)\n  if (isNaN(offset)) {\n    return 0\n  }\n\n  return offset\n}\n\nfunction App() {\n  const auth = useAuth()\n\n  const searchParameters = useSearchParams()\n  const offset = getOffset(searchParameters)\n\n  const [records, setRecords] = useState(null)\n  const [years, setYears] = useState([])\n  const [pages, setPages] = useState(null)\n  const [recordTypes, setRecordTypes] = useState([])\n  const [collections, setCollections] = useState([])\n  const [collectionToId, setCollectionToId] = useState({})\n  const [sourceArchives, setSourceArchives] = useState([])\n  const [recordStatus, setRecordStatus] = useState([])\n\n  // stores whether a search was run or not\n  // used to show different error messages in record table\n  const [searched, setSearched] = useState(false)\n\n  const handleSearch = (searchParams) => {\n    const {\n      query,\n      searchYear,\n      searchCollection,\n      searchSourceArchive,\n      searchRecordType,\n    } = searchParams\n    const params = {\n      offset,\n      query,\n      searchYear,\n      searchCollection,\n      searchSourceArchive,\n      searchRecordType,\n    }\n    getPublicListingData(params).then(({ records, pages, years }) => {\n      setRecords(records)\n      setPages(pages)\n      setYears(years)\n      setSearched(true)\n    })\n  }\n\n  useEffect(() => {\n    getPublicListingData({ offset }).then(\n      ({ records, pages, years, collections, sourceArchives, recordTypes }) => {\n        setRecords(records)\n        setPages(pages)\n        setYears(years)\n        setCollections(collections.collections)\n        setCollectionToId(collections.collectionToId)\n        setSourceArchives(sourceArchives)\n        setRecordTypes(recordTypes)\n      },\n    )\n  }, [offset])\n\n  return (\n    <div className=\"uk-marign-top\">\n      <header>\n        <h1> History Database </h1>\n        <nav className=\"uk-navbar\">\n          <div className=\"uk-nav-bar-left\">\n            <ul className=\"uk-navbar-nav\">\n              {auth.user ? (\n                <li>\n                  <Link to={UrlFor('adminHome')}> Dashboard </Link>\n                </li>\n              ) : (\n                <li>\n                  <Link to={UrlFor('home')}> Home </Link>\n                </li>\n              )}\n            </ul>\n          </div>\n          <div className=\"uk-navbar-right\">\n            <ul className=\"uk-navbar-nav\">\n              {auth.user ? (\n                <li>\n                  <Link\n                    to={UrlFor('logout')}\n                    onClick={() => {\n                      auth.signout()\n                    }}\n                  >\n                    {' '}\n                    Logout{' '}\n                  </Link>\n                </li>\n              ) : (\n                <li>\n                  <Link to={UrlFor('login')}> Login </Link>\n                </li>\n              )}\n            </ul>\n          </div>\n        </nav>\n      </header>\n\n      <Switch>\n        <Route path={UrlFor('viewRecord')}>\n          <Header>\n            <h1 className=\"uk-text-lead\"> History Record </h1>\n          </Header>\n\n          <RecordDetail records={records} />\n        </Route>\n\n        <Route path={UrlFor('login')}>\n          <LoginForm />\n        </Route>\n\n        <PrivateRoute path={UrlFor('newRecord')}>\n          <RecordForm\n            recordTypes={recordTypes}\n            collections={collections}\n            sourceArchives={sourceArchives}\n            recordStatus={recordStatus}\n          />\n        </PrivateRoute>\n        \n        <PrivateRoute path={UrlFor('editRecord')}>\n          <RecordForm\n            recordTypes={recordTypes}\n            collections={collections}\n            sourceArchives={sourceArchives}\n            recordStatus={recordStatus}\n            collectionToId={collectionToId}\n          />\n        </PrivateRoute>\n\n        <PrivateRoute path={UrlFor('adminHome')}>\n          <Dashboard records={records} />\n        </PrivateRoute>\n\n        <PrivateRoute path={UrlFor('addUser')}>\n          <UserForm />\n        </PrivateRoute>\n\n        <PrivateRoute path={UrlFor('showUsers')}>\n          <UserListings />\n        </PrivateRoute>\n        <Route path={UrlFor('logout')}>\n          <Redirect to={UrlFor('home')} />\n        </Route>\n\n        {auth.user ? (\n          <Route path={UrlFor('home')}>\n            <Redirect to={UrlFor('adminHome')} />\n          </Route>\n        ) : (\n          <Route exact path={UrlFor('home')}>\n            <Header>\n              <h1 className=\"uk-text-lead\"> History Listing </h1>\n              <SearchForm\n                years={!years ? [] : years}\n                recordTypes={recordTypes}\n                collections={collections}\n                sourceArchives={sourceArchives}\n                onSubmit={handleSearch}\n              />\n              <PaginationButtons\n                currentPage={!offset ? 0 : offset}\n                pages={pages}\n              />\n            </Header>\n            <RecordTable searched={searched} records={records} />\n          </Route>\n        )}\n      </Switch>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom'; \n\nimport './index.css';\nimport App from './App';\nimport {ProvideAuth} from './auth';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <ProvideAuth> \n    <BrowserRouter>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </BrowserRouter>\n  </ProvideAuth>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}