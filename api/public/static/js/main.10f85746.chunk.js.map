{"version":3,"sources":["Header.js","PaginationButton.js","SearchForm.js","RecordRow.js","RecordTable.js","api.js","RecordDetail.js","auth.js","LoginForm.js","Dashboard.js","App.js","hooks.js","reportWebVitals.js","index.js"],"names":["Header","props","className","children","PrevButton","currentPage","href","uk-pagination-previous","NextButton","pages","uk-pagination-next","PaginationButtons","style","height","padding","borderWidth","SearchForm","useState","query","setQuery","searchYear","setSearchYear","searchCollection","setSearchCollection","searchSourceArchive","setSearchSourceArchive","searchRecordType","setSearchRecordType","showAdvancedSearch","setShowAdvancedSearch","advancedSearchClassName","onSubmit","e","preventDefault","params","uk-grid","type","placeholder","onChange","target","value","years","map","year","uk-icon","uk-tooltip","onClick","recordTypes","id","name","sourceArchives","collections","RecordRow","date","title","to","NoResultsPage","PublicListings","records","RecordTable","searched","getPublicListingData","uri","queryParameters","baseUri","offset","push","encodeURIComponent","length","join","fetch","then","res","json","username","password","a","data","method","mode","cache","credentials","headers","body","JSON","stringify","response","getValueOrDefault","defaultValue","Loading","TitleRow","ImageRow","alt","src","FileAttachmentRow","attachmentType","fileName","ContentRow","text","content","formatDate","matches","match","month","day","DateRow","OriginRow","origin","AuthorRow","author","RecordTypeRow","recordType","SourceArchiveRow","sourceArchive","CollectionRow","split","getCollectionArray","collection","Detail","record","RecordDetail","useParams","setRecord","useEffect","getPublicRecordByID","authContext","createContext","useAuth","useContext","useProvideAuth","user","setUser","signin","onError","login","result","success","signout","logout","ProvideAuth","auth","Provider","PrivateRoute","rest","render","LoginForm","setUsername","setPassword","error","setError","console","log","event","Dashboard","App","searchParameters","offsetParam","get","parseInt","isNaN","getOffset","URLSearchParams","useLocation","search","setRecords","setYears","setPages","setRecordTypes","setCollections","setSourceArchives","setSearched","path","exact","searchParams","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.10f85746.chunk.js","sourcesContent":["\nexport default function Header(props) {\n   return (\n    <div className=\"uk-margin-top\">\n     {props.children}\n    </div>\n   )\n}\n","\n\nfunction PrevButton(props) {\n  if (props.currentPage === 0) {\n    return null \n  } \n\n  const href = `/?offset=${props.currentPage - 1}` \n  return (\n    <a href={href}> \n      <span className=\"uk-margin-small-right\" uk-pagination-previous=\"true\"></span>\n      Previous\n    </a>\n  )\n}\n\nfunction NextButton(props) {\n  if (props.currentPage >= props.pages) {\n    return null \n  } \n\n  const href = `/?offset=${props.currentPage + 1}` \n  return (\n    <a href={href}>\n      Next\n      <span className=\"uk-margin-small-left\" uk-pagination-next=\"true\"></span>\n    </a>\n  )\n}\n\nexport default function PaginationButtons(props) {\n  if (props.pages === null) {\n    return null\n  } else {\n    return (\n    <ul className=\"uk-pagination uk-margin-large-top\"> \n      <li>\n        <PrevButton currentPage={props.currentPage} />\n      </li>\n      <li>\n        <hr\n          className=\"uk-divider-vertical\"\n          style={{height: \"30px\", padding: \"4px 0\", borderWidth: \"2px\"}}\n        />\n      </li>\n      <li> \n        <NextButton currentPage={props.currentPage} pages={props.pages} />\n      </li>\n    </ul> \n    )\n  }\n}\n","import './SearchForm.css'\nimport {useState} from 'react';\n\nexport default function SearchForm(props) {\n  const [query, setQuery] = useState(\"\")\n  const [searchYear, setSearchYear] = useState(\"\")\n  const [searchCollection, setSearchCollection] = useState(\"\")\n  const [searchSourceArchive, setSearchSourceArchive] = useState(\"\")\n  const [searchRecordType, setSearchRecordType] = useState(\"\")\n\n  const [showAdvancedSearch, setShowAdvancedSearch] = useState(false)\n\n  const show = showAdvancedSearch ? \"show\" : \"\" \n  const advancedSearchClassName = `advancedSearchOptions uk-grid-small ${show}`\n  return (\n    <form className=\"uk-margin-top\" onSubmit={(e) => {\n      e.preventDefault()\n      const params = {query, searchYear, searchCollection, searchSourceArchive, searchRecordType}\n      props.onSubmit(params)\n    }}>\n        <div className=\"searchBar uk-grid-small\" uk-grid=\"true\">\n          <div className=\"uk-width-expand@s\">\n            <input className=\"uk-input\" type=\"text\" placeholder=\"Search\" onChange={(e) => {\n              setQuery(e.target.value)\n            }} />\n          </div>\n          <div className=\"uk-width-1-3@s\">\n            <select className=\"uk-select\" onChange={(e) => {\n              setSearchYear(e.target.value)\n            }}>\n              <option value=\"\">Year</option>\n              { props.years.map(year => <option key={year} value={year}> {year} </option>)}\n            </select>\n          </div>\n          <div className=\"advancedSearchButton uk-width-auto@s uk-grid-small\" uk-grid=\"true\">\n            <div className=\"uk-width-auto\">\n              <button \n                className=\"uk-button uk-button-default\"\n                uk-icon=\"more\"\n                uk-tooltip=\"Advanced Search Options\"\n                onClick={() => {\n                  setShowAdvancedSearch(!showAdvancedSearch)\n                }}\n              ></button>\n            </div>\n            <div className=\"uk-width-auto\">\n              <button \n                className=\"uk-button uk-button-primary searchButton\"\n                type=\"submit\"\n                uk-icon=\"search\"\n                uk-tooltip=\"Search\">\n              </button>\n            </div>   \n          </div>\n        </div>\n        \n      <div className={advancedSearchClassName} uk-grid=\"true\"> \n          <div className=\"uk-width-1-3@s\">\n            <select className=\"uk-select\" onChange={(e) => {\n              setSearchRecordType(e.target.value)\n            }}>\n              <option value=\"\"> Type </option>\n              { props.recordTypes.map(({id, name}) => <option key={id} value={id}> {name} </option>) }\n            </select>\n          </div>\n          <div className=\"uk-width-1-3@s\">\n            <select className=\"uk-select\" onChange={(e) => {\n              setSearchSourceArchive(e.target.value) \n            }}>\n              <option value=\"\"> Source Archive </option>\n              { props.sourceArchives.map(({id, name}) => <option key={id} value={id}> {name} </option>) }\n            </select>\n          </div>\n          <div className=\"uk-width-1-3@s\">\n            <select className=\"uk-select\" onChange={(e) => {\n              setSearchCollection(e.target.value)\n            }}>\n              <option value=\"\"> Collection </option>\n              { props.collections.map(({id, name}) => <option key={id} value={id}> {name} </option>) }\n            </select>\n          </div>\n        </div>\n      </form>\n  );\n}\n","import {Link} from 'react-router-dom'\n\nexport default function RecordRow(props) {\n  let href = `/record/${props.id}`\n  return (\n    <tr>\n      <td>{props.date}</td>\n      <td>{props.title}</td>\n      <td>\n        <Link to={href} className=\"uk-button uk-button-primary\"> View </Link>\n      </td>\n    </tr>\n  );\n}\n","import RecordRow from './RecordRow'; \n\nfunction NoResultsPage() {\n  return (<h1> Your search did not return any results. </h1>) \n}\n\nfunction PublicListings(props) {\n  return (\n    <table className=\"uk-table uk-table-middle uk-table-divider uk-table-hover uk-margin-medium\">\n      <thead>\n        <tr>\n          <th className=\"uk-width-small\">Date</th>\n          <th>Title</th>\n          <th className=\"uk-table-shrink\"></th>\n        </tr>\n      </thead>\n      <tbody>\n        { props.records.map(({id, date, title}) => <RecordRow id={id} key={id} date={date} title={title} />)} \n      </tbody>\n    </table>\n  )\n}\n\nexport default function RecordTable(props) {\n  if (props.records === null) {\n    if (props.searched) {\n      return <NoResultsPage /> \n    } else {\n      return null;\n    }\n  } else {\n    return <PublicListings records={props.records} /> \n  }\n}\n","\nexport function getPublicListingData(params) {\n  const queryParameters = []\n  const baseUri = '/api/public/records'\n  if (params.offset && params.offset !== null) {\n    queryParameters.push(`offset=${encodeURIComponent(params.offset)}`)\n  }\n\n  if (params.query && params.query !== '') {\n    queryParameters.push(`query=${encodeURIComponent(params.query)}`)\n  }\n\n  if (params.searchYear && params.searchYear !== '') {\n    queryParameters.push(`year=${encodeURIComponent(params.searchYear)}`)\n  }\n\n  if (params.searchCollection && params.searchCollection !== '') {\n    queryParameters.push(`collection=${encodeURIComponent(params.searchCollection)}`)\n  }\n\n  if (params.searchSourceArchive && params.searchSourceArchive !== '') {\n    queryParameters.push(`sourceArchive=${encodeURIComponent(params.searchSourceArchive)}`)\n  }\n  \n  if (params.searchRecordType && params.searchRecordType !== '') {\n    queryParameters.push(`recordType=${encodeURIComponent(params.searchRecordType)}`)\n  }\n  let uri;\n  if (queryParameters.length !== 0) {\n    uri = baseUri + `?${queryParameters.join('&')}`\n  } else {\n    uri = baseUri \n  }\n  return fetch(uri)\n    .then(res => res.json())\n}\n\nexport function getPublicRecordByID(id) {\n  return fetch(`/api/public/records/${id}`)\n    .then(res => res.json())\n}\n\nexport async function login(username, password) {\n  const data = {username, password} \n\n  const response = await fetch('/api/login', {\n    method: 'POST',\n    mode: 'same-origin', \n    cache: 'no-cache',\n    credentials: \"include\",\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  })\n\n  return response.json()\n}\n\nexport async function logout() {\n  return fetch('/api/logout', {\n    method: 'POST',\n    mode: 'same-origin', \n    cache: 'no-cache',\n    credentials: \"include\",\n  })\n}\n\nexport function getUserData() {\n  return fetch(`/api/user`)\n    .then(res => res.json())\n}\n","import { useParams } from 'react-router-dom'; \nimport { useState, useEffect } from 'react';\nimport { getPublicRecordByID } from './api';\n\nconst getValueOrDefault = (value, defaultValue) => {\n  if (value) {\n    return value\n  } else {\n    return defaultValue;\n  }\n}\n\nfunction Loading() {\n  return <h1> Loading </h1> \n}\n\nfunction TitleRow(props) {\n  return (\n    <tr>\n      <td className=\"uk-width-medium\"><strong>Title</strong></td>\n      <td>{props.title}</td>\n    </tr>\n  )\n}\n\nfunction ImageRow(props) {\n  return (\n    <tr>\n      <td><strong>Image</strong></td>\n      <td><img alt={props.alt} src={`/media/${props.src}`} /></td>\n    </tr>\n  )\n}\n\nfunction FileAttachmentRow(props) {\n  if (props.attachmentType === null) {\n    return null;\n  }\n  else if (props.attachmentType === 'image') {\n    return <ImageRow alt={props.title} src={props.fileName} />\n  } else {\n    return null;\n  }\n}\n\nfunction ContentRow(props) {\n  const text = props.content === \"\" ? \"No content\" : props.content; \n  return (\n    <tr>\n      <td>\n        <strong>\n          Text\n        </strong>\n      </td>\n      <td> {text} </td>\n    </tr>\n  );\n}\n\nconst formatDate = (date) => {\n  // Converts date with format yyyy-mm-dd to mm/dd/yyyy\n  // If it cannot convert, then just returns the given date\n\n  const re = /(\\d{4})-(\\d{2})-(\\d{2})/;\n  const matches = date.match(re); \n  if (matches !== null) {\n    const year = matches[1];\n    const month = matches[2];\n    const day = matches[3];\n  \n    return `${month}/${day}/${year}`;\n  } else {\n    return date;\n  }\n}\n\nfunction DateRow(props) {\n  return (\n    <tr>\n      <td>\n        <strong>\n          Date\n        </strong>\n      </td>\n      <td>{props.date === \"\" ? \"Date unknown\" : formatDate(props.date)} </td>\n    </tr>\n  );\n}\n\nfunction OriginRow(props) {\n  return (\n    <tr>\n     <td>\n      <strong>\n        Origin\n      </strong>\n     </td>\n     <td>{getValueOrDefault(props.origin, \"Origin Unknown\")}</td>\n    </tr>\n  )\n}\n\nfunction AuthorRow(props) {\n  return (\n    <tr>\n      <td>\n        <strong>\n          Author\n        </strong>\n      </td>\n      <td>{getValueOrDefault(props.author, \"Unknown\")}</td>\n    </tr>\n  );\n}\n\nfunction RecordTypeRow(props) {\n  return (\n    <tr>\n      <td>\n        <strong>\n          Type\n        </strong>\n      </td>\n      <td>{getValueOrDefault(props.recordType, \"Unknown\")}</td>\n    </tr>\n  );\n}\n\nfunction SourceArchiveRow(props) {\n  return (\n    <tr>\n      <td>\n        <strong>\n          Source Archive\n        </strong>\n      </td>\n      <td>{getValueOrDefault(props.sourceArchive, \"Unknown\")}</td>\n    </tr>\n  );\n}\n\nfunction getCollectionArray(collections){\n  if (collections) {\n    return collections.split(';');\n  } else {\n    return [];\n  }\n}\n\nfunction CollectionRow(props) {\n  let collections = getCollectionArray(props.collections)\n\n  const collectionLabel = (collection) => {\n    return (\n      <span key={collection} className=\"uk-label\"> {collection} </span>\n    )\n  }\n  \n  if (collections.length === 0) {\n    collections.push('Collection Unknown');\n  }\n\n  return (\n    <tr>\n      <td>\n        <strong>\n          Collection\n        </strong>\n      </td>\n      <td> \n        {collections.map(collectionLabel)}\n      </td>\n    </tr>\n  );\n}\n\nfunction Detail(props) {\n  const record = props.record;\n  return (\n    <table className=\"uk-table uk-table-small uk-table-divider uk-margin-medium\">\n      <tbody>\n        <TitleRow title={record.title} />\n        <FileAttachmentRow title={record.title} attachmentType={record.attachmentType} fileName={record.fileName} />\n        <ContentRow content={record.content} />\n        <DateRow date={record.date} />\n        <OriginRow origin={record.origin} />\n        <AuthorRow author={record.author} />\n        <RecordTypeRow recordType={record.recordType} />\n        <SourceArchiveRow sourceArchive={record.sourceArchive} />\n        <CollectionRow collections={record.collections} />\n      </tbody>\n    </table>\n  );\n}\n  \n\nfunction RecordDetail(props) {\n  let {id} = useParams();\n\n  const [record, setRecord] = useState(null)\n\n  useEffect(() => {\n    getPublicRecordByID(id).then(setRecord)\n  }, [id])\n\n  if (!record) {\n    return <Loading />\n  } else {\n    return <Detail record={record} />\n  }\n}\n\nexport default RecordDetail; \n","import {useState, useEffect, useContext, createContext} from 'react';\nimport {getUserData, login, logout} from './api'; \nimport {Route, Redirect} from 'react-router-dom';\n\n\n// Code for creating authContext and hooks \n// Adapted from https://usehooks.com/useAuth/\nconst authContext = createContext();\n\n// Hook for components to get the auth object\n// and re-render when it changes\nexport function useAuth() {\n  return useContext(authContext) \n}\n\n// Provider hook that creates auth object and handles state\nexport function useProvideAuth() {\n  const [user, setUser] = useState(false) \n\n  useEffect(() => {\n    getUserData().then(json => {\n      if (json.username) {\n        setUser(json)\n      }\n    })\n  }, [])\n\n  const signin = (username, password, onError) => {\n    login(username, password).then(result => {\n      if (result.success) {\n        setUser(result.user)\n      } else {\n        onError('invalid username/password')\n      }\n    })\n  }\n\n  const signout = () => {\n    logout().then(() => {\n      setUser(false)\n    })\n  }\n\n  return {\n    user, \n    signin,\n    signout,\n  }\n}\n\n// Provider component that wraps your app and makes auth object\n// available to any child component that calls useAuth()\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\n\nexport function PrivateRoute({children, ...rest}) {\n  let auth = useAuth()\n  return (\n    <Route\n      {...rest}\n      render={() => \n        auth.user ? (\n          children\n        ) : (\n          <Redirect \n            to=\"/\" />\n        )\n      }\n    />\n  )\n}\n","import {useState} from 'react';\nimport {useAuth} from './auth.js';\nimport {Redirect} from 'react-router-dom';\n\n\nexport default function LoginForm(props) {\n  const auth = useAuth()\n\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\") \n  const [error, setError] = useState(null)\n\n  const changeUsername = (event) => {\n    setError(null)\n    setUsername(event.target.value)\n  }\n\n  const changePassword = (event) => {\n    setError(null)\n    setPassword(event.target.value)\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    auth.signin(username, password, () => setError)\n  }\n\n  console.log(auth.user)\n  if (auth.user) {\n    return <Redirect to=\"/\" />\n  }\n\n  return (\n    <form className=\"uk-form-stacked\" onSubmit={handleSubmit}>\n      <p>{error}</p>\n      <div>\n        <label className=\"uk-form-label\"> Username </label>\n        <input className=\"uk-form-width-large uk-input\" type=\"text\" name=\"username\"\n               onChange={changeUsername} value={username} /> \n      </div>\n      <div>\n        <label className=\"uk-form-label\"> Password </label>\n        <input className=\"uk-form-width-large uk-input\" type=\"password\" name=\"password\"\n               onChange={changePassword} value={password} />\n      </div>\n      <input className=\"uk-button uk-button-primary\" type=\"submit\" value=\"login\" /> \n    </form>\n  );\n}\n","\nexport default function Dashboard() {\n  return <h1> Welcome to the Dashboard </h1>\n}\n","import {useState, useEffect} from 'react';\nimport {Link, Route, Redirect} from 'react-router-dom'; \n\nimport Header from './Header';\nimport PaginationButtons from './PaginationButton';\nimport SearchForm from './SearchForm'; \nimport RecordTable from './RecordTable';\nimport RecordDetail from './RecordDetail';\nimport LoginForm from './LoginForm';\n\nimport Dashboard from './Dashboard';\n\nimport {getPublicListingData} from './api';\nimport {useSearchParams} from './hooks';\nimport {useAuth, PrivateRoute} from './auth.js';  \n\nfunction getOffset(searchParameters) {\n  let offsetParam = searchParameters.get(\"offset\") \n  if (offsetParam === null) {\n    return 0\n  } \n  let offset = parseInt(offsetParam) \n  if (isNaN(offset)) {\n    return 0\n  } \n\n  return offset;\n}\n\nfunction App() {\n  const auth = useAuth()\n\n  const searchParameters = useSearchParams()\n  const offset = getOffset(searchParameters)\n\n  const [records, setRecords] = useState(null)\n  const [years, setYears] = useState([])\n  const [pages, setPages] = useState(null)\n  const [recordTypes, setRecordTypes] = useState([])\n  const [collections, setCollections] = useState([])\n  const [sourceArchives, setSourceArchives] = useState([])\n\n  // stores whether a search was run or not\n  // used to show different error messages in record table\n  const [searched, setSearched] = useState(false)\n\n  const handleSearch = (searchParams) => {\n    const {query, searchYear, searchCollection, searchSourceArchive, searchRecordType} = searchParams\n    const params = {offset, query, searchYear, searchCollection, searchSourceArchive, searchRecordType}\n    getPublicListingData(params).then(({records, pages, years}) => {\n      setRecords(records)\n      setPages(pages)\n      setYears(years)\n      setSearched(true)\n    })\n  }\n\n  useEffect(() => {\n    getPublicListingData({offset}).then(({records, pages, years, collections, sourceArchives, recordTypes}) => {\n      setRecords(records)\n      setPages(pages)\n      setYears(years)\n      setCollections(collections)\n      setSourceArchives(sourceArchives)\n      setRecordTypes(recordTypes)\n    })\n  }, [offset])\n\n\n  return (\n        <div className=\"uk-marign-top\">\n          <header>\n            <h1> History Database </h1>\n            <nav className=\"uk-navbar\">\n              <div className=\"uk-nav-bar-left\">\n                <ul className=\"uk-navbar-nav\">\n                  <li><Link to=\"/\"> Home </Link></li>\n                </ul>\n              </div>\n              <div className=\"uk-navbar-right\">\n                <ul className=\"uk-navbar-nav\">\n                  { auth.user ?\n                    <li><Link to=\"/logout\" onClick={() => {auth.signout()}}> Logout </Link></li> : \n                    <li><Link to=\"/login\"> Login </Link></li>\n                  }\n                </ul>\n              </div>\n            </nav>\n          </header>\n          <Route path=\"/record/:id\">\n            <Header>\n               <h1 className=\"uk-text-lead\"> History Record </h1>\n            </Header>\n\n            <RecordDetail records={records} />\n          </Route> \n\n          <Route path=\"/login\">\n            <LoginForm />\n          </Route>\n\n          <PrivateRoute path=\"/dashboard\">\n            <Dashboard />\n          </PrivateRoute>\n\n          <Route path=\"/logout\"> \n            <Redirect to=\"/\" />\n          </Route>\n\n          <Route exact path=\"/\"> \n            <Header>\n              <h1 className=\"uk-text-lead\"> History Listing </h1>\n              <SearchForm\n                years={!years ? [] : years}\n                recordTypes={recordTypes}\n                collections={collections}\n                sourceArchives={sourceArchives}\n                onSubmit={handleSearch}/>\n              <PaginationButtons currentPage={!offset ? 0 : offset} pages={pages} />\n            </Header>\n            <RecordTable searched={searched} records={records} />\n          </Route>\n        </div>\n  );\n}\n\nexport default App;\n","import {useLocation} from 'react-router-dom';\n\nexport function useSearchParams() {\n  // Returns search Parameters from URL \n  \n  return new URLSearchParams(useLocation().search);\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom'; \n\nimport './index.css';\nimport App from './App';\nimport {ProvideAuth} from './auth';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <ProvideAuth> \n    <BrowserRouter>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </BrowserRouter>\n  </ProvideAuth>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}