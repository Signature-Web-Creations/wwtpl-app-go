(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,c){},26:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(16),a=c.n(s),i=c(3),u=(c(24),c(2)),l=c(4),j={adminHome:"/admin",home:"/",login:"/login",logout:"/logout",showUsers:"/users",addUser:"/adduser",editRecord:{url:"/editrecord",params:{id:":id"}},viewRecord:{url:"/record",params:{id:":id"}}};function o(e,t){var c="";if(void 0===(c="string"===typeof j[e]?j[e]:void 0!==t?j[e].url+"/"+t.id:j[e].url+"/"+j[e].params.id))throw new Error("Route doesn't exist: ".concat(e));return c}var d=c(0);function b(e){return Object(d.jsx)("div",{className:"uk-margin-top",children:e.children})}function h(e){if(0===e.currentPage)return null;var t="/?offset=".concat(e.currentPage-1);return Object(d.jsxs)("a",{href:t,children:[Object(d.jsx)("span",{className:"uk-margin-small-right","uk-pagination-previous":"true"}),"Previous"]})}function O(e){if(e.currentPage>=e.pages)return null;var t="/?offset=".concat(e.currentPage+1);return Object(d.jsxs)("a",{href:t,children:["Next",Object(d.jsx)("span",{className:"uk-margin-small-left","uk-pagination-next":"true"})]})}function x(e){return null===e.pages?null:Object(d.jsxs)("ul",{className:"uk-pagination uk-margin-large-top",children:[Object(d.jsx)("li",{children:Object(d.jsx)(h,{currentPage:e.currentPage})}),Object(d.jsx)("li",{children:Object(d.jsx)("hr",{className:"uk-divider-vertical",style:{height:"30px",padding:"4px 0",borderWidth:"2px"}})}),Object(d.jsx)("li",{children:Object(d.jsx)(O,{currentPage:e.currentPage,pages:e.pages})})]})}c(26);function m(e){var t=Object(n.useState)(""),c=Object(u.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(""),i=Object(u.a)(a,2),l=i[0],j=i[1],o=Object(n.useState)(""),b=Object(u.a)(o,2),h=b[0],O=b[1],x=Object(n.useState)(""),m=Object(u.a)(x,2),p=m[0],f=m[1],v=Object(n.useState)(""),k=Object(u.a)(v,2),g=k[0],N=k[1],y=Object(n.useState)(""),S=Object(u.a)(y,2),w=S[0],C=S[1],T=Object(n.useState)(!1),A=Object(u.a)(T,2),R=A[0],U=A[1],I="advancedSearchOptions uk-grid-small ".concat(R?"show":""),P=e.isLoggedIn?"uk-width-1-4@s":"uk-width-1-3@s";return Object(d.jsxs)("form",{className:"uk-margin-top",onSubmit:function(t){t.preventDefault(),function(){var t={query:r,searchYear:l,searchCollection:h,searchSourceArchive:p,searchRecordType:g,searchStatus:w};e.onSubmit(t)}()},children:[Object(d.jsxs)("div",{className:"searchBar uk-grid-small","uk-grid":"true",children:[Object(d.jsx)("div",{className:"uk-width-expand@s",children:Object(d.jsx)("input",{className:"uk-input",value:r,type:"text",placeholder:"Search",onChange:function(e){s(e.target.value)}})}),Object(d.jsx)("div",{className:"uk-width-1-3@s",children:Object(d.jsxs)("select",{className:"uk-select",value:l,onChange:function(e){j(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"Year"}),e.years.map((function(e){return Object(d.jsxs)("option",{value:e,children:[" ",e," "]},e)}))]})}),Object(d.jsxs)("div",{className:"advancedSearchButton uk-width-auto@s uk-grid-small","uk-grid":"true",children:[Object(d.jsx)("div",{className:"uk-width-auto",children:Object(d.jsx)("button",{className:"uk-button uk-button-default","uk-icon":"more","uk-tooltip":"Advanced Search Options",onClick:function(){U(!R)}})}),Object(d.jsx)("div",{className:"uk-width-auto",children:Object(d.jsx)("button",{className:"uk-button uk-button-default",type:"submit","uk-icon":"refresh","uk-tooltip":"Clear Search",onClick:function(){s(""),j(""),O(""),f(""),N(""),C("")}})}),Object(d.jsx)("div",{className:"uk-width-auto",children:Object(d.jsx)("button",{className:"uk-button uk-button-primary searchButton",type:"submit","uk-icon":"search","uk-tooltip":"Search"})})]})]}),Object(d.jsxs)("div",{className:I,"uk-grid":"true",children:[Object(d.jsx)("div",{className:P,children:Object(d.jsxs)("select",{className:"uk-select",value:g,onChange:function(e){N(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:" Type "}),e.recordTypes.map((function(e){var t=e.id,c=e.name;return Object(d.jsxs)("option",{value:t,children:[" ",c," "]},t)}))]})}),Object(d.jsx)("div",{className:P,children:Object(d.jsxs)("select",{className:"uk-select",value:p,onChange:function(e){f(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:" Source Archive "}),e.sourceArchives.map((function(e){var t=e.id,c=e.name;return Object(d.jsxs)("option",{value:t,children:[" ",c," "]},t)}))]})}),Object(d.jsx)("div",{className:P,children:Object(d.jsxs)("select",{className:"uk-select",value:h,onChange:function(e){O(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:" Collection "}),e.collections.map((function(e){var t=e.id,c=e.name;return Object(d.jsxs)("option",{value:t,children:[" ",c," "]},t)}))]})}),e.isLoggedIn&&Object(d.jsx)("div",{className:P,children:Object(d.jsxs)("select",{className:"uk-select",value:w,onChange:function(e){C(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"Status"}),e.status.map((function(e){var t=e.id,c=e.name;return Object(d.jsxs)("option",{value:t,children:[" ",c," "]},t)}))]})})]})]})}function p(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.date}),Object(d.jsx)("td",{children:e.title}),Object(d.jsx)("td",{children:e.type}),Object(d.jsx)("td",{children:Object(d.jsxs)(i.b,{to:o("viewRecord",{id:e.id}),className:"uk-button uk-button-primary",children:[" ","View"," "]})})]})}function f(){return Object(d.jsx)("h1",{children:" Your search did not return any results. "})}function v(e){return Object(d.jsxs)("table",{className:"uk-table uk-table-middle uk-table-divider uk-table-hover uk-margin-medium",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"uk-width-small",children:"Date"}),Object(d.jsx)("th",{children:"Title"}),Object(d.jsx)("th",{children:"Type"}),Object(d.jsx)("th",{className:"uk-table-shrink"})]})}),Object(d.jsx)("tbody",{children:e.records.map((function(e){var t=e.id,c=e.date,n=e.title,r=e.recordType;return Object(d.jsx)(p,{id:t,date:c,title:n,type:r},t)}))})]})}function k(e){return null===e.records?e.searched?Object(d.jsx)(f,{}):null:Object(d.jsx)(v,{records:e.records})}var g=c(7),N=c.n(g),y=c(8);function S(e){var t,c=[],n="/api/public/records";return e.offset&&null!==e.offset&&c.push("offset=".concat(encodeURIComponent(e.offset))),e.query&&""!==e.query&&c.push("query=".concat(encodeURIComponent(e.query))),e.searchYear&&""!==e.searchYear&&c.push("year=".concat(encodeURIComponent(e.searchYear))),e.searchCollection&&""!==e.searchCollection&&c.push("collection=".concat(encodeURIComponent(e.searchCollection))),e.searchSourceArchive&&""!==e.searchSourceArchive&&c.push("sourceArchive=".concat(encodeURIComponent(e.searchSourceArchive))),e.searchRecordType&&""!==e.searchRecordType&&c.push("recordType=".concat(encodeURIComponent(e.searchRecordType))),e.searchRecordStatus&&""!==e.searchRecordStatus&&c.push("recordStatus=".concat(encodeURIComponent(e.searchRecordStatus))),t=0!==c.length?n+"?".concat(c.join("&")):n,fetch(t).then((function(e){return e.json()}))}function w(e){return fetch("/api/public/records/".concat(e)).then((function(e){return e.json()}))}function C(){return(C=Object(y.a)(N.a.mark((function e(t,c){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:t,password:c},e.next=3,fetch("/api/login",{method:"POST",mode:"same-origin",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(y.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/logout",{method:"POST",mode:"same-origin",cache:"no-cache",credentials:"include"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(y.a)(N.a.mark((function e(t){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user",{method:"POST",mode:"same-origin",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users",{method:"GET",mode:"same-origin",cache:"no-cache",credentials:"include"});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user_roles",{method:"GET",mode:"same-origin",cache:"no-cache"});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(y.a)(N.a.mark((function e(t){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/disable",{method:"POST",mode:"same-origin",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t})});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(e,t){return e||t};function D(){return Object(d.jsx)("h1",{children:" Loading "})}function L(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:"uk-width-medium",children:Object(d.jsx)("strong",{children:"Title"})}),Object(d.jsx)("td",{children:e.title})]})}function E(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Image"})}),Object(d.jsx)("td",{children:Object(d.jsx)("img",{alt:e.alt,src:"/media/".concat(e.src)})})]})}function Y(e){return null===e.attachmentType?null:"image"===e.attachmentType?Object(d.jsx)(E,{alt:e.title,src:e.fileName}):null}function F(e){var t=""===e.content?"No content":e.content;return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Text"})}),Object(d.jsxs)("td",{children:[" ",t," "]})]})}var q=function(e){var t=e.match(/(\d{4})-(\d{2})-(\d{2})/);if(null!==t){var c=t[1],n=t[2],r=t[3];return"".concat(n,"/").concat(r,"/").concat(c)}return e};function H(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Date"})}),Object(d.jsxs)("td",{children:[""===e.date?"Date unknown":q(e.date)," "]})]})}function B(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Origin"})}),Object(d.jsx)("td",{children:P(e.origin,"Origin Unknown")})]})}function J(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Author"})}),Object(d.jsx)("td",{children:P(e.author,"Unknown")})]})}function G(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Type"})}),Object(d.jsx)("td",{children:P(e.recordType,"Unknown")})]})}function M(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Source Archive"})}),Object(d.jsx)("td",{children:P(e.sourceArchive,"Unknown")})]})}function V(e){var t=function(e){return e?e.split(";"):[]}(e.collections);return 0===t.length&&t.push("Collection Unknown"),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Collection"})}),Object(d.jsx)("td",{children:t.map((function(e){return Object(d.jsxs)("span",{className:"uk-label",children:[" ",e," "]},e)}))})]})}function W(e){var t=e.record;return Object(d.jsx)("table",{className:"uk-table uk-table-small uk-table-divider uk-margin-medium",children:Object(d.jsxs)("tbody",{children:[Object(d.jsx)(L,{title:t.title}),Object(d.jsx)(Y,{title:t.title,attachmentType:t.attachmentType,fileName:t.fileName}),Object(d.jsx)(F,{content:t.content}),Object(d.jsx)(H,{date:t.date}),Object(d.jsx)(B,{origin:t.origin}),Object(d.jsx)(J,{author:t.author}),Object(d.jsx)(G,{recordType:t.recordType}),Object(d.jsx)(M,{sourceArchive:t.sourceArchive}),Object(d.jsx)(V,{collections:t.collections})]})})}var _=function(e){var t=Object(l.h)().id,c=Object(n.useState)(null),r=Object(u.a)(c,2),s=r[0],a=r[1];return Object(n.useEffect)((function(){w(t).then(a)}),[t]),s?Object(d.jsx)(W,{record:s}):Object(d.jsx)(D,{})},z=c(13),K=c(19),Q=Object(n.createContext)();function X(){return Object(n.useContext)(Q)}function Z(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){fetch("/api/user").then((function(e){return e.json()})).then((function(e){e.username&&r(e)}))}),[]);return{user:c,signin:function(e,t,c){(function(e,t){return C.apply(this,arguments)})(e,t).then((function(e){e.success?r(e.user):c("invalid username/password")}))},signout:function(){(function(){return T.apply(this,arguments)})().then((function(){r(!1)}))}}}function $(e){var t=e.children,c=Z();return Object(d.jsx)(Q.Provider,{value:c,children:t})}function ee(e){var t=e.children,c=Object(K.a)(e,["children"]),n=X();return Object(d.jsx)(l.b,Object(z.a)(Object(z.a)({},c),{},{render:function(){return n.user?t:Object(d.jsx)(l.a,{to:"/"})}}))}function te(e){var t=X(),c=Object(n.useState)(""),r=Object(u.a)(c,2),s=r[0],a=r[1],j=Object(n.useState)(""),o=Object(u.a)(j,2),b=o[0],h=o[1],O=Object(n.useState)(null),x=Object(u.a)(O,2),m=x[0],p=x[1],f=function(){p(null)};function v(){return Object(d.jsxs)("div",{"uk-alert":!0,className:"uk-alert-danger",children:[Object(d.jsx)(i.b,{className:"uk-alert-close","uk-close":!0,onClick:f}),Object(d.jsx)("p",{children:m})]})}return console.log(t.user),t.user?Object(d.jsx)(l.a,{to:"/dashboard"}):Object(d.jsxs)("form",{className:"uk-form-stacked uk-form-width-large uk-margin-top",onSubmit:function(e){e.preventDefault(),t.signin(s,b,(function(){return p}))},children:[m&&Object(d.jsx)(v,{}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"uk-form-label",children:" Username "}),Object(d.jsx)("input",{className:"uk-form-width-large uk-input",type:"text",name:"username",onChange:function(e){p(null),a(e.target.value)},value:s})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"uk-form-label",children:" Password "}),Object(d.jsx)("input",{className:"uk-form-width-large uk-input",type:"password",name:"password",onChange:function(e){p(null),h(e.target.value)},value:b})]}),Object(d.jsx)("input",{className:"uk-button uk-button-primary uk-margin-top",type:"submit",value:"login"})]})}function ce(){return new URLSearchParams(Object(l.g)().search)}var ne=function(e){var t,c="/editrecord/".concat(e.id);return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)(i.b,{to:c,className:"uk-icon-link uk-margin-small-right","uk-icon":"file-edit"})}),Object(d.jsx)("td",{children:Object(d.jsx)(i.b,{onClick:function(){},className:"uk-icon-link uk-margin-small-right","uk-icon":"trash"})}),Object(d.jsx)("td",{children:e.date}),Object(d.jsx)("td",{children:e.title}),Object(d.jsx)("td",{children:Object(d.jsx)("span",{className:(t=e.status,"unpublished"===t?"uk-label uk-label-warning":"deleted"===t?"uk-label uk-label-error":"uk-label uk-label-success"),children:e.status})})]})};function re(){return Object(d.jsx)("h1",{children:" Your search did not return any results. "})}function se(e){return Object(d.jsxs)("table",{className:"uk-table uk-table-middle uk-table-divider uk-table-hover uk-margin-medium",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"uk-table-small"}),Object(d.jsx)("th",{className:"uk-table-small"}),Object(d.jsx)("th",{className:"uk-width-small",children:"Date"}),Object(d.jsx)("th",{children:"Title"}),Object(d.jsx)("th",{children:"Status"})]})}),Object(d.jsx)("tbody",{children:e.records.map((function(e){var t=e.id,c=e.date,n=e.title,r=e.recordStatus;return Object(d.jsx)(ne,{id:t,date:c,title:n,status:r})}))})]})}function ae(e){return null===e.records?e.searched?Object(d.jsx)(re,{}):null:Object(d.jsx)(se,{records:e.records})}function ie(){var e=X(),t=function(e){var t=e.get("offset");if(null===t)return 0;var c=parseInt(t);return isNaN(c)?0:c}(ce()),c=Object(n.useState)(null),r=Object(u.a)(c,2),s=r[0],a=r[1],l=Object(n.useState)([]),j=Object(u.a)(l,2),b=j[0],h=j[1],O=Object(n.useState)(null),p=Object(u.a)(O,2),f=p[0],v=p[1],k=Object(n.useState)(null),g=Object(u.a)(k,2),N=(g[0],g[1]),y=Object(n.useState)([]),w=Object(u.a)(y,2),C=w[0],T=w[1],A=Object(n.useState)([]),R=Object(u.a)(A,2),U=R[0],I=R[1],P=Object(n.useState)([]),D=Object(u.a)(P,2),L=D[0],E=D[1],Y=Object(n.useState)([]),F=Object(u.a)(Y,2),q=F[0],H=F[1],B=Object(n.useState)(!1),J=Object(u.a)(B,2),G=J[0],M=J[1];return Object(n.useEffect)((function(){S({offset:t}).then((function(e){var t=e.records,c=e.pages,n=e.years,r=e.status,s=e.collections,i=e.sourceArchives,u=e.recordTypes,l=e.recordStatus;a(t),v(c),h(n),N(r),I(s),E(i),T(u),H(l)}))}),[t]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(i.b,{to:o("addUser"),className:"uk-button uk-button-primary uk-margin-right",children:[" ","Add New User"," "]}),Object(d.jsxs)(i.b,{to:o("showUsers"),className:"uk-button uk-button-default",children:[" ","Manage Users"," "]}),Object(d.jsx)(m,{years:b||[],recordTypes:C,collections:U,sourceArchives:L,status:q,isLoggedIn:e.user,onSubmit:function(e){var c=e.query,n=e.searchYear,r=e.searchCollection,s=e.searchSourceArchive,i=e.searchRecordType,u=e.searchStatus;S({offset:t,query:c,searchYear:n,searchCollection:r,searchSourceArchive:s,searchRecordType:i,searchStatus:u}).then((function(e){var t=e.records,c=e.pages,n=e.years,r=e.status;a(t),v(c),h(n),N(r),M(!0)}))}}),Object(d.jsx)(x,{currentPage:t||0,pages:f}),Object(d.jsx)(ae,{searched:G,records:s})]})}var ue=function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:"uk-width-medium",children:Object(d.jsx)("strong",{children:"Title"})}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{className:"uk-input",type:"text",placeholder:"Title",value:e.title})})]})};var le=function(){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"File Attachment"})}),Object(d.jsxs)("td",{children:[Object(d.jsxs)("div",{"uk-form-custom":"target: true",children:[Object(d.jsx)("input",{type:"file"}),Object(d.jsx)("input",{className:"uk-input uk-form-width-medium",type:"text",placeholder:"Select file",disabled:!0})]}),Object(d.jsx)("button",{className:"uk-button uk-button-default",children:"Submit"})]})]})};var je=function(){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Attachment Type"})}),Object(d.jsx)("td",{children:Object(d.jsxs)("select",{className:"uk-select",children:[Object(d.jsx)("option",{value:"",children:"Select One"}),Object(d.jsx)("option",{children:"Image"}),Object(d.jsx)("option",{children:"Video"}),Object(d.jsx)("option",{children:"Document/PDF"})]})})]})};var oe=function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Content"})}),Object(d.jsx)("td",{children:Object(d.jsx)("textarea",{className:"uk-textarea",rows:"5",placeholder:"Description",value:e.content})})]})};var de=function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Date"})}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{className:"uk-input",type:"date",placeholder:"Input",value:e.date})})]})};var be=function(){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Origin"})}),Object(d.jsx)("td",{children:Object(d.jsxs)("select",{className:"uk-select",children:[Object(d.jsx)("option",{value:"",children:"Select One"}),Object(d.jsx)("option",{children:"Option 1"}),Object(d.jsx)("option",{children:"Option 2"}),Object(d.jsx)("option",{children:"Option 3"})]})})]})};var he=function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Author"})}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{className:"uk-input",type:"text",placeholder:"Author",value:e.author})})]})};var Oe=function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Record ID"})}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{className:"uk-input",type:"text",disabled:!0,placeholder:"Record ID",value:e.id})})]})};var xe=function(e){var t=function(t){return e.type===t};return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Type"})}),Object(d.jsx)("td",{children:Object(d.jsxs)("select",{className:"uk-select",onChange:function(e){},children:[Object(d.jsx)("option",{value:"",children:" Select One "}),e.recordTypes.map((function(e){var c=e.id,n=e.name;return Object(d.jsx)("option",{value:c,selected:t(n),children:n},c)}))]})})]})};var me=function(e){var t=function(t){return e.source===t};return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Source Archive"})}),Object(d.jsx)("td",{children:Object(d.jsxs)("select",{className:"uk-select",onChange:function(e){},children:[Object(d.jsx)("option",{value:"",children:" Select One "}),e.sourceArchives.map((function(e){var c=e.id,n=e.name;return Object(d.jsx)("option",{value:c,selected:t(n),children:n},c)}))]})})]})};var pe=function(){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Date Entered"})}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{className:"uk-input",type:"date",placeholder:"Input"})})]})};var fe=function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("strong",{children:"Collection"})}),Object(d.jsx)("td",{children:e.collections.map((function(e){e.id;var t=e.name;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{className:"uk-checkbox",type:"checkbox",onChange:void 0}),"\xa0\xa0 ",t]}),Object(d.jsx)("br",{})]})}))})]})};var ve=function(e){var t="";return t="error"===e.type?"uk-alert-danger":"uk-alert-success",Object(d.jsxs)("div",{"uk-alert":"true",className:t,children:[Object(d.jsx)(i.b,{className:"uk-alert-close","uk-close":"true",onClick:function(){e.handleCloseBox(null)}}),Object(d.jsx)("p",{children:e.message})]})};var ke=function(e){var t=Object(l.h)().id,c=Object(n.useState)(null),r=Object(u.a)(c,2),s=r[0],a=r[1],i=Object(n.useState)(null),j=Object(u.a)(i,2),o=j[0],b=j[1];function h(){return Object(d.jsx)("h1",{children:" Loading "})}if(Object(n.useEffect)((function(){w(t).then(a)}),[t]),s){return Object(d.jsxs)("form",{className:"uk-form-stacked uk-margin-top",onSubmit:function(e){e.preventDefault()},children:[o&&Object(d.jsx)(ve,{onChange:function(e){b(e)},message:o,type:"error"}),Object(d.jsx)("table",{className:"uk-table uk-table-small uk-table-divider uk-margin-medium",children:Object(d.jsxs)("tbody",{children:[Object(d.jsx)(ue,{title:s.title}),Object(d.jsx)(le,{}),Object(d.jsx)(je,{}),Object(d.jsx)(oe,{content:s.content}),Object(d.jsx)(de,{date:s.date}),Object(d.jsx)(be,{origin:s.origin}),Object(d.jsx)(he,{author:s.author}),Object(d.jsx)(Oe,{id:s.id}),Object(d.jsx)(xe,{recordTypes:e.recordTypes,type:s.recordType}),Object(d.jsx)(me,{sourceArchives:e.sourceArchives,source:s.sourceArchive}),Object(d.jsx)(pe,{}),Object(d.jsx)(fe,{collections:e.collections})]})}),Object(d.jsx)("input",{className:"uk-button uk-button-primary uk-margin-top",type:"submit",value:"Add Record"})]})}return Object(d.jsx)(h,{})};var ge=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(""),a=Object(u.a)(s,2),l=a[0],j=a[1],o=Object(n.useState)(""),b=Object(u.a)(o,2),h=b[0],O=b[1],x=Object(n.useState)(""),m=Object(u.a)(x,2),p=m[0],f=m[1],v=Object(n.useState)(1),k=Object(u.a)(v,2),g=k[0],N=k[1],y=Object(n.useState)([]),S=Object(u.a)(y,2),w=S[0],C=S[1],T=Object(n.useState)(null),R=Object(u.a)(T,2),I=R[0],P=R[1],D=Object(n.useState)(null),L=Object(u.a)(D,2),E=L[0],Y=L[1];function F(e){return Object(d.jsxs)("div",{"uk-alert":!0,className:"uk-alert-success",children:[Object(d.jsx)(i.b,{className:"uk-alert-close","uk-close":!0,onClick:function(){Y(null)}}),Object(d.jsx)("p",{children:e.message})]})}function q(e){return Object(d.jsxs)("div",{"uk-alert":!0,className:"uk-alert-danger",children:[Object(d.jsx)(i.b,{className:"uk-alert-close","uk-close":!0,onClick:function(){P(null)}}),Object(d.jsx)("p",{children:e.message})]})}return Object(n.useEffect)((function(){(function(){return U.apply(this,arguments)})().then((function(e){e.roles&&C(e.roles)}))}),[]),Object(d.jsxs)("form",{className:"uk-form-stacked uk-form-width-large uk-margin-top",onSubmit:function(e){e.preventDefault(),function(e){return A.apply(this,arguments)}({firstName:c,lastName:l,username:h,password:p,roleId:g}).then((function(e){e.success?(Y(e.success),r(""),j(""),O(""),f(""),N(1)):P(e.error)}))},children:[E&&Object(d.jsx)(F,{message:E}),I&&Object(d.jsx)(q,{message:I}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"uk-form-label uk-margin-top",children:"First Name"}),Object(d.jsx)("input",{className:"uk-form-width-large uk-input",type:"text",name:"firstName",onChange:function(e){r(e.target.value)},value:c})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"uk-form-label uk-margin-top",children:"Last Name"}),Object(d.jsx)("input",{className:"uk-form-width-large uk-input",type:"text",name:"lastName",onChange:function(e){j(e.target.value),O(c.charAt(0).toLowerCase()+e.target.value.toLowerCase())},value:l})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"uk-form-label uk-margin-top",children:"Username"}),Object(d.jsx)("input",{className:"uk-form-width-large uk-input",type:"text",name:"username",onChange:function(e){O(e.target.value)},value:h})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"uk-form-label uk-margin-top",children:"Password"}),Object(d.jsx)("input",{className:"uk-form-width-large uk-input",type:"password",name:"password",onChange:function(e){f(e.target.value)},value:p})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"uk-form-label uk-margin-top",children:"Role"}),Object(d.jsx)("select",{value:g,onChange:function(e){var t=parseInt(e.target.value);isNaN(t)?N(1):N(t)},children:0!==w.length&&w.map((function(e){var t,c=e.id,n=e.name;return Object(d.jsxs)("option",{value:c,children:[" ",(t=n,t.length>0?t[0].toUpperCase()+t.slice(1):t)," "]},c)}))})]}),Object(d.jsx)("input",{className:"uk-button uk-button-primary uk-margin-top",type:"submit",value:"Create User"})]})};function Ne(e){var t=e.id,c=e.firstName,n=e.lastName,r=e.username,s=e.role;return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)(i.b,{to:"/editUser/".concat(t),className:"uk-icon-link uk-margin-small-right","uk-icon":"file-edit"})}),Object(d.jsx)("td",{children:Object(d.jsx)(i.b,{onClick:function(e){e.preventDefault();var c=parseInt(t);isNaN(c)&&console.log("Id was not a number"),function(e){return I.apply(this,arguments)}(t).then((function(e){e.error?console.log(e.error):console.log(e.success)}))},className:"uk-icon-link uk-margin-small-right","uk-icon":"trash"})}),Object(d.jsx)("td",{children:n}),Object(d.jsx)("td",{children:c}),Object(d.jsx)("td",{children:r}),Object(d.jsx)("td",{children:s})]})}function ye(e){var t=Object(n.useState)([]),c=Object(u.a)(t,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){(function(){return R.apply(this,arguments)})().then((function(e){e.users&&s(e.users)}))}),[]),Object(d.jsxs)("table",{className:"uk-table uk-table-middle uk-table-divider uk-table-hover uk-margin-medium",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"uk-table-small"}),Object(d.jsx)("th",{className:"uk-table-small"}),Object(d.jsx)("th",{className:"uk-width-small",children:"Last Name"}),Object(d.jsx)("th",{children:"First Name"}),Object(d.jsx)("th",{children:"Username"}),Object(d.jsx)("th",{children:"Role"})]})}),Object(d.jsx)("tbody",{children:r.map((function(e){var t=e.id,c=e.firstName,n=e.lastName,r=e.username,s=e.role;return Object(d.jsx)(Ne,{id:t,firstName:c,lastName:n,username:r,role:s})}))})]})}var Se=function(){var e=X(),t=function(e){var t=e.get("offset");if(null===t)return 0;var c=parseInt(t);return isNaN(c)?0:c}(ce()),c=Object(n.useState)(null),r=Object(u.a)(c,2),s=r[0],a=r[1],j=Object(n.useState)([]),h=Object(u.a)(j,2),O=h[0],p=h[1],f=Object(n.useState)(null),v=Object(u.a)(f,2),g=v[0],N=v[1],y=Object(n.useState)([]),w=Object(u.a)(y,2),C=w[0],T=w[1],A=Object(n.useState)([]),R=Object(u.a)(A,2),U=R[0],I=R[1],P=Object(n.useState)([]),D=Object(u.a)(P,2),L=D[0],E=D[1],Y=Object(n.useState)([]),F=Object(u.a)(Y,2),q=F[0],H=(F[1],Object(n.useState)(!1)),B=Object(u.a)(H,2),J=B[0],G=B[1];return Object(n.useEffect)((function(){S({offset:t}).then((function(e){var t=e.records,c=e.pages,n=e.years,r=e.collections,s=e.sourceArchives,i=e.recordTypes;a(t),N(c),p(n),I(r),E(s),T(i)}))}),[t]),Object(d.jsxs)("div",{className:"uk-marign-top",children:[Object(d.jsxs)("header",{children:[Object(d.jsx)("h1",{children:" History Database "}),Object(d.jsxs)("nav",{className:"uk-navbar",children:[Object(d.jsx)("div",{className:"uk-nav-bar-left",children:Object(d.jsx)("ul",{className:"uk-navbar-nav",children:e.user?Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:o("adminHome"),children:" Dashboard "})}):Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:o("home"),children:" Home "})})})}),Object(d.jsx)("div",{className:"uk-navbar-right",children:Object(d.jsx)("ul",{className:"uk-navbar-nav",children:e.user?Object(d.jsx)("li",{children:Object(d.jsxs)(i.b,{to:o("logout"),onClick:function(){e.signout()},children:[" ","Logout"," "]})}):Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:o("login"),children:" Login "})})})})]})]}),Object(d.jsxs)(l.d,{children:[Object(d.jsxs)(l.b,{path:o("viewRecord"),children:[Object(d.jsx)(b,{children:Object(d.jsx)("h1",{className:"uk-text-lead",children:" History Record "})}),Object(d.jsx)(_,{records:s})]}),Object(d.jsx)(l.b,{path:o("login"),children:Object(d.jsx)(te,{})}),Object(d.jsx)(ee,{path:o("editRecord"),children:Object(d.jsx)(ke,{recordTypes:C,collections:U,sourceArchives:L,recordStatus:q})}),Object(d.jsx)(ee,{path:o("adminHome"),children:Object(d.jsx)(ie,{records:s})}),Object(d.jsx)(ee,{path:o("addUser"),children:Object(d.jsx)(ge,{})}),Object(d.jsx)(ee,{path:o("showUsers"),children:Object(d.jsx)(ye,{})}),Object(d.jsx)(l.b,{path:o("logout"),children:Object(d.jsx)(l.a,{to:o("home")})}),e.user?Object(d.jsx)(l.b,{path:o("home"),children:Object(d.jsx)(l.a,{to:o("adminHome")})}):Object(d.jsxs)(l.b,{exact:!0,path:o("home"),children:[Object(d.jsxs)(b,{children:[Object(d.jsx)("h1",{className:"uk-text-lead",children:" History Listing "}),Object(d.jsx)(m,{years:O||[],recordTypes:C,collections:U,sourceArchives:L,onSubmit:function(e){var c=e.query,n=e.searchYear,r=e.searchCollection,s=e.searchSourceArchive,i=e.searchRecordType;S({offset:t,query:c,searchYear:n,searchCollection:r,searchSourceArchive:s,searchRecordType:i}).then((function(e){var t=e.records,c=e.pages,n=e.years;a(t),N(c),p(n),G(!0)}))}}),Object(d.jsx)(x,{currentPage:t||0,pages:g})]}),Object(d.jsx)(k,{searched:J,records:s})]})]})]})},we=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,34)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(d.jsx)($,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(Se,{})})})}),document.getElementById("root")),we()}},[[33,1,2]]]);
//# sourceMappingURL=main.ed0a4e96.chunk.js.map